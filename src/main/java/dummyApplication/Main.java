package dummyApplication;

import ca.uhn.fhir.util.StopWatch;
import com.google.common.base.Stopwatch;
import eu.interopehrate.protocols.common.DocumentCategory;
import eu.interopehrate.protocols.common.FHIRResourceCategory;
import eu.interopehrate.protocols.common.ResourceCategory;
import eu.interopehrate.r2demergency.R2DEmergencyFactory;
import eu.interopehrate.r2demergency.R2DEmergencyImpl;
import eu.interopehrate.r2demergency.api.R2DEmergencyI;
import org.json.simple.JSONArray;
import org.json.simple.JSONObject;

import java.text.ParseException;
import java.util.ArrayList;
import java.util.Iterator;

public class Main {
    public static void main(String[] args) throws Exception {
//        R2DEmergencyI r2de = R2DEmergencyFactory.create("C:\\\\InterOP\\\\IPSValidatorPack");
        R2DEmergencyI r2de = R2DEmergencyFactory.create("..\\r2dEmergencyMaven\\src\\main\\resources");

//      Sample QR Code content
        String qrCodeContent = "{\"citizenId\":\"626bd85f16cf2322134636df\",\"emergencyToken\":\"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VybmFtZSI6InByZXZhbGlkYXRpb24yIiwiZXhwIjoxNzcxMjM0OTEwfQ.2sVbjmeCzu31FcvkUZeiEwosYNGKc5TWuyTOdoyZbAw\",\"hriEmergencyToken\":\"eyJhbGciOiJIUzUxMiJ9.eyJpYXQiOjE2NTEyMzQ5MTEsInRva2VuTmFtZSI6ImhyaUVtZXJnZW5jeVRva2VuIiwiY2l0aXplblVzZXJuYW1lIjoiTVArZ215cTZCeTMzZGhTQ1lNcWFsUT09IiwiY2xvdWRVcmkiOiJrMFQ2MHZOY0Y3dzdVZnlEQVNIUkVQTEFDRURBU0h2RzFwdUE5bDV2M2dxVWN3SE15ditoQzFnSmM9In0.X2ESVTr-RaVLgvD1W_g3S_lNFq4eqmOO9XLWUoXPDqZGKPDwrU4uuJBc-BdBGb-Cutikl5yCDbUgK0N7vWZ-nA\",\"symKey\":\"UiYmJk\\/iWopGS2n0YIhZsgp1auRVyahR7sgFOtEC5r4=\"}";
//        String qrCodeContent = "{\"citizenId\":\"62346518da6b8572cca49a3d\",\"emergencyToken\":\"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VybmFtZSI6ImNzeW12b3VsMTgwMyIsImV4cCI6MTc2NzYwMDkyMH0.-RCqTTxcYGfUdMIXYyPeKW4HwkLcAr8cz7ndjlF0co8\",\"symKey\":\"XVggCm3qd22ceCDlTe4LEPFmAm6driB+pSilZqs+u0k=\"}";

        String hospitalID = "hco";
        String certificate = "TUlJRkN6Q0NBM09nQXdJQkFnSVVUa3BNZGdZcDhTN1VXYjgwUFpsbVoxTDJUemd3RFFZSktvWklodmNOQVFFTApCUUF3WVRFak1DRUdDZ21TSm9tVDhpeGtBUUVNRTJNdE1HTTNOVFZoT0RrM01EaGlNMlV4WXpJeEZUQVRCZ05WCkJBTU1ERTFoYm1GblpXMWxiblJEUVRFak1DRUdBMVVFQ2d3YVJVcENRMEVnUTI5dWRHRnBibVZ5SUZGMWFXTnIKYzNSaGNuUXdIaGNOTWpJd01qSTFNVEl5TVRReFdoY05NalF3TWpJMU1USXlNVFF4V2pBZE1Sc3dHUVlEVlFRRApEQkpvWldGc2RHaHZjbWRoYm1sNllYUnBiMjR3Z2dJaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQ0R3QXdnZ0lLCkFvSUNBUURZLzdXa1B4UGc2OWlzdjJIYmVBTGNVQlZROGI0RHdkN0ZOU2djdU8zR2RpTmpkL0V2UzkzKzlkSWgKKytobFN4MTFPYmxFNDhmc3FJa3hUVWFreFJsc3JIRVByUzFkeThFYXQ0dDFtR3JnWVpjOVpoMXpNcEtrS1F2bwo1d3dHNG43SmdVOWFoSUxNbDhyZTFObmZQVmllUEpyREpkOEEzOGQvbFFldWRVSGtoZUN3Y0kwZnhCdUY5dkVFCnFTVUM0ZVdFUFJRNERBU2lMdWY4NGZzaDVEeDZEanROdE1EL20xRGJkb3NLbHR1V1JGZC9yOFhSbFdDQ3orbnIKSW4vcmdVaE02bE5RQ1labnpOdGxub3NHTzlXeStWOFZydXZQdkpuRlRaSDVzMllTTXA3b0hML3hmVDZZRGRKcwpBbzJYSmVCRkxSU0hCeFFBZkRDMmJCNVBEejEwYURRamZKbzBIRU9EODFUN01NYWM4KzJybjJxRE5mbmp0M3ZjCmhHSVdGZFlQOE9TVmpianRvVld0ajJha2dmWjJmR1NRbzVCVUpzL2VtS3F2NnZtc1BRN3ZmYTVwSi9QQzA2WEsKTzhldHdheXZGL0xzejN3a1oybE83UGkwTFVFYkVwdXdFVlp0emgwZEZNaG5VSDBJeW5hTFR0a2ZiTVdJYUlZYQppZUNXS3ZjOU9ycTRsWEE3M2FkNFRRdG96MVp4ZSszQk1lams3cTZUNStldkJ4ZEtXTVQ5VUJ2RzdaODVLejdECnZpdG1hcVM4VGFLRHJhUHlmMDJFQTFUeW5wSkc3d2RERFo5NEN5MFpTMjYzcGxsRzhjVlRNdHdPQVdHTStyVUcKdUVYUmZsSzhDdk0zVGt5ZnhBTHdYZVpKYSsyUTBzK1AvemVON1BldUFEc1ZTTTVxWXdJREFRQUJvMzh3ZlRBTQpCZ05WSFJNQkFmOEVBakFBTUI4R0ExVWRJd1FZTUJhQUZBcXhWR0xmOEFGb2MxODNFZzI1SHlpd2c5RHRNQjBHCkExVWRKUVFXTUJRR0NDc0dBUVVGQndNQ0JnZ3JCZ0VGQlFjREJEQWRCZ05WSFE0RUZnUVUyUW1XbWdBY3d6dGsKTHhRNFY2YzVYazltVFdNd0RnWURWUjBQQVFIL0JBUURBZ1hnTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElCZ1FDawo1QTROWThmM2V5U1lTQWJPTW5aODl5OE5FS2tta3VBQ0IwVlZ0NnZIbmxUR3ZjSHlBOFpVSTR5WEh5YVNkOUVxClExbWQzVEVFZ0N4bWpjL1kva2czWW1qR3RTSXV3Z1hjUVlBY0dRbCtvUW1LVmoyZkExNDd6SWNYbWpTZUlLZGQKd0xzSDA2dTZMV0wrdlVhN1VVbVFDclZuODRyMzM4Uyt4blkxM0M2b0VWc2VvWXBpcTNZV05nVVltNG1yWVRPeApxbFphUks1aVE1eVRnSVBsZkQvS1QzYXFpekswYVloVTdUKzZNbjZuNU1oYVZZdUFJK3UrVXhRU05KNlVTdnpYCldkRXdiM2hjb2Y0NVdSVXp5WnBlejRKdTBGOGpJdlhuUWszUjQ5SmxXUTVtUG5UbTJhQTdGM3FnQnVqZGVjbzUKU2Q2alZkZzRNYUZpeWk5RnlZVlkwd2V0cFVyemFTeDg0ZUhRTjVQS05taVEzYlo4bW81aklpbm9nS05scWd4SgpoYzFFSFQrT1hsRnFFVFhsa0dYNjJpeFduSExXUkVZUWRrSFY4Y0Nqc2t4ZWRhdFBUclV2WUpnU09HZGFGUktRCnBUNCsrNW15d0Y5WFExbWVhbU4yRXZqUWtobWZjSlY4TUlPcHoyb2RPeEEwYnBzV3NBdjFsWndSd2JRbTdJbz0=";
        String hcpName = "simavi";

//      Request access to S-EHR Cloud
        String emergencyToken = r2de.requestAccess(qrCodeContent, hospitalID, certificate, hcpName);
        System.out.println("emergencyToken: \t" + emergencyToken);

//      Retrieving list of buckets that the account has access
        JSONArray buckets = r2de.listBuckets(emergencyToken);
        System.out.println(buckets);

//      Retrieving list of objects within a specific bucket
        Iterator bucket = buckets.iterator();
        JSONObject objects = null;
        while(bucket.hasNext()){
            String currentBucket = (String) bucket.next();
            objects = r2de.listObjects(emergencyToken, currentBucket);
            System.out.println("BUCKET: \t"+currentBucket);
            System.out.println("OBJECTS: \t"+objects);
            System.out.println();
        }

////        Retrieving metadata of an object in a specific bucket
        JSONObject metadata = r2de.getBundlesInfo(emergencyToken, (String) buckets.get(0), FHIRResourceCategory.PATIENT);
        System.out.println("METADATA: \t" + metadata.toJSONString());

////        Retrieving Patient Summary from S-EHR Cloud
        String patientSummary = r2de.get(emergencyToken, (String) buckets.get(0), DocumentCategory.PATIENT_SUMMARY);
        System.out.println(patientSummary);

////        Uploading Patient Summary to Emergency Bucket
//        String uploadResponse = r2de.create(emergencyToken, DocumentCategory.PATIENT_SUMMARY, patientSummary);
//        System.out.println("UPLOAD RESPONSE: \t"+uploadResponse);

//    Testing provenance
//    public static void main(String[] args) throws Exception {
//        R2DEmergencyI r2de = R2DEmergencyFactory.create("..\\r2dEmergencyMaven\\src\\main\\resources");

////        String bndle = "{\"resourceType\":\"Bundle\",\"id\":\"1\",\"meta\":{\"profile\":[\"http:\\/\\/hl7.org\\/fhir\\/uv\\/ips\\/StructureDefinition\\/Bundle-uv-ips\"]},\"language\":\"en\",\"type\":\"searchset\",\"timestamp\":\"2022-05-04T12:17:40.164Z\",\"entry\":[{\"resource\":{\"resourceType\":\"Encounter\",\"id\":\"6129269\",\"meta\":{\"profile\":[\"http:\\/\\/interopehrate.eu\\/fhir\\/StructureDefinition\\/Encounter-IEHR\"]},\"language\":\"en\",\"extension\":[{\"url\":\"http:\\/\\/interopehrate.eu\\/fhir\\/StructureDefinition\\/ProvenanceExtension-IEHR\",\"valueReference\":{\"reference\":\"Provenance\\/73a4d292-0c63-4dc6-b80b-5ab692cd7437\"}}],\"identifier\":[{\"value\":\"6129269\"}],\"status\":\"finished\",\"class\":{\"system\":\"http:\\/\\/terminology.hl7.org\\/CodeSystem\\/v3-ActCode\",\"code\":\"AMB\",\"display\":\"ambulatory\"},\"subject\":{\"reference\":\"Patient\\/FTGM01\"},\"period\":{\"start\":\"2019-11-04\"}}},{\"resource\":{\"resourceType\":\"DiagnosticReport\",\"id\":\"db734647-fc99-424c-a864-7e3cda82e703\",\"meta\":{\"profile\":[\"http:\\/\\/interopehrate.eu\\/fhir\\/StructureDefinition\\/DiagnosticReport-LaboratoryReport-IEHR\"]},\"language\":\"en\",\"text\":{\"status\":\"generated\",\"div\":\"<div xmlns=\\\"http:\\/\\/www.w3.org\\/1999\\/xhtml\\\"><div class=\\\"hapiHeaderText\\\"> Relevant diagnostic tests\\/laboratory data Narrative <\\/div><table class=\\\"hapiPropertyTable\\\"><tbody><tr><td>Status<\\/td><td>FINAL<\\/td><\\/tr><\\/tbody><\\/table><table class=\\\"hapiTableOfValues\\\"><thead><tr><td>Name<\\/td><td>Value<\\/td><td>Interpretation<\\/td><td>Reference Range<\\/td><td>Status<\\/td><\\/tr><\\/thead><tbody><tr class=\\\"hapiTableOfValuesRowOdd\\\"><td> Hematocrit [Volume Fraction] of Blood by Automated count <\\/td><td>33.2 <\\/td><td\\/><td> - <\\/td><td>FINAL<\\/td><\\/tr><tr class=\\\"hapiTableOfValuesRowEven\\\"><td> Hemoglobin [Mass\\/volume] in Blood <\\/td><td>11.3 <\\/td><td\\/><td> - <\\/td><td>FINAL<\\/td><\\/tr><tr class=\\\"hapiTableOfValuesRowOdd\\\"><td> Erythrocytes [#\\/volume] in Blood by Automated count <\\/td><td>4.12 <\\/td><td\\/><td> - <\\/td><td>FINAL<\\/td><\\/tr><\\/tbody><\\/table><\\/div>\"},\"extension\":[{\"url\":\"http:\\/\\/interopehrate.eu\\/fhir\\/StructureDefinition\\/ProvenanceExtension-IEHR\",\"valueReference\":{\"reference\":\"Provenance\\/699addf9-403c-4d81-bdba-853b48c642e1\"}}],\"identifier\":[{\"value\":\"db734647-fc99-424c-a864-7e3cda82e703\"}],\"status\":\"final\",\"category\":[{\"coding\":[{\"system\":\"http:\\/\\/terminology.hl7.org\\/CodeSystem\\/v2-0074\",\"code\":\"LAB\"}]}],\"code\":{\"coding\":[{\"system\":\"http:\\/\\/loinc.org\",\"code\":\"30954-2\",\"display\":\"Relevant diagnostic tests\\/laboratory data Narrative\",\"_display\":{\"extension\":[{\"url\":\"http:\\/\\/hl7.org\\/fhir\\/StructureDefinition\\/translation\",\"extension\":[{\"url\":\"lang\",\"valueCode\":\"ita\"},{\"url\":\"content\",\"valueString\":\"Test diagnostici rilevanti &o dati di laboratorio:Osservazione:Pt:^Paziente:Nar:\"},{\"url\":\"http:\\/\\/interopehrate.eu\\/fhir\\/StructureDefinition\\/ExtendedTranslation-IEHR\",\"valueReference\":{\"reference\":\"Provenance\\/1651670995745\"}}]}]}}]},\"subject\":{\"reference\":\"Patient\\/FTGM01\"},\"encounter\":{\"reference\":\"Encounter\\/6129269\"},\"performer\":[{\"reference\":\"Practitioner\\/FSTPLG59A26F839C\"}],\"resultsInterpreter\":[{\"reference\":\"Practitioner\\/FSTPLG59A26F839C\"}],\"effectiveDateTime\":\"2017-07-03\",\"result\":[{\"reference\":\"Observation\\/loinc-4544-320190625083000\"},{\"reference\":\"Observation\\/loinc-718-720190625083000\"},{\"reference\":\"Observation\\/loinc-789-820190625083000\"}]}},{\"resource\":{\"resourceType\":\"Observation\",\"id\":\"loinc-4544-320190625083000\",\"meta\":{\"profile\":[\"http:\\/\\/hl7.org\\/fhir\\/uv\\/ips\\/StructureDefinition\\/Observation-results-laboratory-uv-ips\"]},\"language\":\"en\",\"extension\":[{\"url\":\"http:\\/\\/interopehrate.eu\\/fhir\\/StructureDefinition\\/ProvenanceExtension-IEHR\",\"valueReference\":{\"reference\":\"Provenance\\/699addf9-403c-4d81-bdba-853b48c642e1\"}}],\"identifier\":[{\"value\":\"loinc-4544-320190625083000\"}],\"status\":\"final\",\"category\":[{\"coding\":[{\"system\":\"http:\\/\\/terminology.hl7.org\\/CodeSystem\\/observation-category\",\"code\":\"laboratory\"}]}],\"code\":{\"coding\":[{\"system\":\"http:\\/\\/loinc.org\",\"code\":\"4544-3\",\"display\":\"Hematocrit [Volume Fraction] of Blood by Automated count\",\"_display\":{\"extension\":[{\"url\":\"http:\\/\\/hl7.org\\/fhir\\/StructureDefinition\\/translation\",\"extension\":[{\"url\":\"lang\",\"valueCode\":\"ita\"},{\"url\":\"content\",\"valueString\":\"Ematocrito:VFr:Pt:Sangue:Qn:Conta automatica\"},{\"url\":\"http:\\/\\/interopehrate.eu\\/fhir\\/StructureDefinition\\/ExtendedTranslation-IEHR\",\"valueReference\":{\"reference\":\"Provenance\\/1651670995749\"}}]}]}}]},\"subject\":{\"reference\":\"Patient\\/FTGM01\"},\"effectiveDateTime\":\"2017-07-03\",\"performer\":[{\"reference\":\"Practitioner\\/FSTPLG59A26F839C\"}],\"valueQuantity\":{\"value\":33.2,\"system\":\"http:\\/\\/unitsofmeasure.org\",\"code\":\"d\\/L\"},\"referenceRange\":[{\"text\":\"31,0  -  43,5\"}]}},{\"resource\":{\"resourceType\":\"Patient\",\"id\":\"FTGM01\",\"meta\":{\"profile\":[\"http:\\/\\/hl7.org\\/fhir\\/uv\\/ips\\/StructureDefinition\\/Patient-uv-ips\"]},\"language\":\"en\",\"text\":{\"status\":\"generated\",\"div\":\"<div xmlns=\\\"http:\\/\\/www.w3.org\\/1999\\/xhtml\\\"><div class=\\\"hapiHeaderText\\\">FTGM01 <b>FTGM <\\/b><\\/div><table class=\\\"hapiPropertyTable\\\"><tbody><tr><td>Identifier<\\/td><td>FTGM01<\\/td><\\/tr><tr><td>Date of birth<\\/td><td><span>05 December 2013<\\/span><\\/td><\\/tr><\\/tbody><\\/table><\\/div>\"},\"identifier\":[{\"value\":\"FTGM01\"}],\"name\":[{\"family\":\"FTGM\",\"given\":[\"FTGM01\"]}],\"gender\":\"male\",\"birthDate\":\"2013-12-05\",\"generalPractitioner\":[{\"reference\":\"Practitioner\\/FSTPLG59A26F839C\"}]}},{\"resource\":{\"resourceType\":\"Observation\",\"id\":\"loinc-789-820190625083000\",\"meta\":{\"profile\":[\"http:\\/\\/hl7.org\\/fhir\\/uv\\/ips\\/StructureDefinition\\/Observation-results-laboratory-uv-ips\"]},\"language\":\"en\",\"extension\":[{\"url\":\"http:\\/\\/interopehrate.eu\\/fhir\\/StructureDefinition\\/ProvenanceExtension-IEHR\",\"valueReference\":{\"reference\":\"Provenance\\/699addf9-403c-4d81-bdba-853b48c642e1\"}}],\"identifier\":[{\"value\":\"loinc-789-820190625083000\"}],\"status\":\"final\",\"category\":[{\"coding\":[{\"system\":\"http:\\/\\/terminology.hl7.org\\/CodeSystem\\/observation-category\",\"code\":\"laboratory\"}]}],\"code\":{\"coding\":[{\"system\":\"http:\\/\\/loinc.org\",\"code\":\"789-8\",\"display\":\"Erythrocytes [#\\/volume] in Blood by Automated count\",\"_display\":{\"extension\":[{\"url\":\"http:\\/\\/hl7.org\\/fhir\\/StructureDefinition\\/translation\",\"extension\":[{\"url\":\"lang\",\"valueCode\":\"ita\"},{\"url\":\"content\",\"valueString\":\"Eritrociti:NCnc:Pt:Sangue:Qn:Conta automatica\"},{\"url\":\"http:\\/\\/interopehrate.eu\\/fhir\\/StructureDefinition\\/ExtendedTranslation-IEHR\",\"valueReference\":{\"reference\":\"Provenance\\/1651670995753\"}}]}]}}]},\"subject\":{\"reference\":\"Patient\\/FTGM01\"},\"effectiveDateTime\":\"2017-07-03\",\"performer\":[{\"reference\":\"Practitioner\\/FSTPLG59A26F839C\"}],\"valueQuantity\":{\"value\":4.12,\"system\":\"http:\\/\\/unitsofmeasure.org\",\"code\":\"d\\/L\"},\"referenceRange\":[{\"text\":\"3,89  -  5,29\"}]}},{\"resource\":{\"resourceType\":\"Practitioner\",\"id\":\"FSTPLG59A26F839C\",\"meta\":{\"profile\":[\"http:\\/\\/hl7.org\\/fhir\\/uv\\/ips\\/StructureDefinition\\/Practitioner-uv-ips\"]},\"language\":\"en\",\"identifier\":[{\"value\":\"FSTPLG59A26F839C\"}],\"name\":[{\"family\":\"FESTA\",\"given\":[\"PIERLUIGI\"]}]}},{\"resource\":{\"resourceType\":\"Observation\",\"id\":\"loinc-718-720190625083000\",\"meta\":{\"profile\":[\"http:\\/\\/hl7.org\\/fhir\\/uv\\/ips\\/StructureDefinition\\/Observation-results-laboratory-uv-ips\"]},\"language\":\"en\",\"extension\":[{\"url\":\"http:\\/\\/interopehrate.eu\\/fhir\\/StructureDefinition\\/ProvenanceExtension-IEHR\",\"valueReference\":{\"reference\":\"Provenance\\/699addf9-403c-4d81-bdba-853b48c642e1\"}}],\"identifier\":[{\"value\":\"loinc-718-720190625083000\"}],\"status\":\"final\",\"category\":[{\"coding\":[{\"system\":\"http:\\/\\/terminology.hl7.org\\/CodeSystem\\/observation-category\",\"code\":\"laboratory\"}]}],\"code\":{\"coding\":[{\"system\":\"http:\\/\\/loinc.org\",\"code\":\"718-7\",\"display\":\"Hemoglobin [Mass\\/volume] in Blood\",\"_display\":{\"extension\":[{\"url\":\"http:\\/\\/hl7.org\\/fhir\\/StructureDefinition\\/translation\",\"extension\":[{\"url\":\"lang\",\"valueCode\":\"ita\"},{\"url\":\"content\",\"valueString\":\"Emoglobina:MCnc:Pt:Sangue:Qn:\"},{\"url\":\"http:\\/\\/interopehrate.eu\\/fhir\\/StructureDefinition\\/ExtendedTranslation-IEHR\",\"valueReference\":{\"reference\":\"Provenance\\/1651670995755\"}}]}]}}]},\"subject\":{\"reference\":\"Patient\\/FTGM01\"},\"effectiveDateTime\":\"2017-07-03\",\"performer\":[{\"reference\":\"Practitioner\\/FSTPLG59A26F839C\"}],\"valueQuantity\":{\"value\":11.3,\"system\":\"http:\\/\\/unitsofmeasure.org\",\"code\":\"d\\/L\"},\"referenceRange\":[{\"text\":\"10,2  -  14,5\"}]}},{\"fullUrl\":\"IEHR\\/fhir\\/Provenance\\/1651670995745\\/DiagnosticReport\\/db734647-fc99-424c-a864-7e3cda82e703\",\"resource\":{\"resourceType\":\"Provenance\",\"id\":\"db734647-fc99-424c-a864-7e3cda82e703\",\"target\":[{\"reference\":\"DiagnosticReport\\/db734647-fc99-424c-a864-7e3cda82e703\"}],\"occurredDateTime\":\"2022-05-04T13:29:55.745Z\",\"recorded\":\"2022-05-04T13:29:55.745Z\",\"agent\":[{\"who\":{\"reference\":\"Device\\/1\"}}]}},{\"fullUrl\":\"IEHR\\/fhir\\/Device\\/1\",\"resource\":{\"resourceType\":\"Device\",\"id\":\"1\",\"status\":\"active\",\"deviceName\":[{\"name\":\"iehr-translation-service\",\"type\":\"other\"}]}},{\"fullUrl\":\"IEHR\\/fhir\\/Provenance\\/1651670995749\\/Observation\\/loinc-4544-320190625083000\",\"resource\":{\"resourceType\":\"Provenance\",\"id\":\"loinc-4544-320190625083000\",\"target\":[{\"reference\":\"Observation\\/loinc-4544-320190625083000\"}],\"occurredDateTime\":\"2022-05-04T13:29:55.749Z\",\"recorded\":\"2022-05-04T13:29:55.749Z\",\"agent\":[{\"who\":{\"reference\":\"Device\\/1\"}}]}},{\"fullUrl\":\"IEHR\\/fhir\\/Provenance\\/1651670995753\\/Observation\\/loinc-789-820190625083000\",\"resource\":{\"resourceType\":\"Provenance\",\"id\":\"loinc-789-820190625083000\",\"target\":[{\"reference\":\"Observation\\/loinc-789-820190625083000\"}],\"occurredDateTime\":\"2022-05-04T13:29:55.753Z\",\"recorded\":\"2022-05-04T13:29:55.753Z\",\"agent\":[{\"who\":{\"reference\":\"Device\\/1\"}}]}},{\"fullUrl\":\"IEHR\\/fhir\\/Provenance\\/1651670995755\\/Observation\\/loinc-718-720190625083000\",\"resource\":{\"resourceType\":\"Provenance\",\"id\":\"loinc-718-720190625083000\",\"target\":[{\"reference\":\"Observation\\/loinc-718-720190625083000\"}],\"occurredDateTime\":\"2022-05-04T13:29:55.755Z\",\"recorded\":\"2022-05-04T13:29:55.755Z\",\"agent\":[{\"who\":{\"reference\":\"Device\\/1\"}}]}},{\"resource\":{\"resourceType\":\"Provenance\",\"id\":\"73a4d292-0c63-4dc6-b80b-5ab692cd7437\",\"meta\":{\"profile\":[\"http:\\/\\/interopehrate.eu\\/fhir\\/StructureDefinition\\/Provenance-IEHR\"]},\"target\":[{\"reference\":\"Encounter\\/6129269\"}],\"recorded\":\"2022-05-04T16:29:55.793+03:00\",\"agent\":[{\"type\":{\"coding\":[{\"system\":\"http:\\/\\/terminology.hl7.org\\/CodeSystem\\/provenance-participant-type\",\"code\":\"author\",\"display\":\"Author\"}]},\"who\":{\"reference\":\"Organization\\/1\"}},{\"type\":{\"coding\":[{\"system\":\"http:\\/\\/terminology.hl7.org\\/CodeSystem\\/provenance-participant-type\",\"code\":\"custodian\",\"display\":\"Custodian\"}]},\"who\":{\"reference\":\"Organization\\/1\"}}],\"signature\":[{\"id\":\"673b0895-162c-4c0e-8902-13304fc9d655\",\"type\":[{\"system\":\"urn:iso-astm:E1762-95:2013\",\"code\":\"1.2.840.10065.1.12.1.5\",\"display\":\"Verification Signature\"}],\"when\":\"2022-05-04T16:29:55.793+03:00\",\"who\":{\"reference\":\"Organization\\/1\"},\"targetFormat\":\"json\",\"sigFormat\":\"application\\/jose\",\"data\":\"ZXlKaGJHY2lPaUpTVXpJMU5pSXNJbU5sY25ScFptbGpZWFJsSWpvaVZGVnNTbEp1UW5GUk1FNURVVlJhYmxGWVpFcFJhMFp1VTFaV1MyRnNTbWxXZVRsUVlqQmFTMHd6YUU5U1ZHZ3lWRWRyZDA1SWNIQmthM0JZWkZjNU0xSkdSbHBUYTNSMlYydHNiMlJ0VGs5UlZrWkdWRUZ3UTFWVlJqTlhWbEpHWVdzeFJGSlZaRVJhTWpGVVUyMDVkRlpFYUhCbFIzUkNWVlZXVGxKVVNrNWtSVEZJVkZST1QxWkdXbTlVTUZKeVRUQXhSV0ZIYkU1TmJGWTBWMWh3U21WRldsVlJWbEpEV2pBMVYwTnJTa0pVVlRGRlVsUkdiMWx0TVVkaWJIQllUVmQ0YVdKc1NrVlZWbEpHWVdzeFJGSlZaRUpOVmxaR1VUSmtNMWxXU2xaalJVNVNUVVZXYmxWVVNUVmtWMUpJVW01Q2FXSldXalZUVlZwSFRWZEdXRlJ1U1V0WmVrNVRZVWRPZFZWWVpFbGhSMDVQVkZkd1NtUXdOVVZTV0d4T1ZrWldORlJYY0VwbGJHUnZXVEExVG1Gc1JqTlVhMUpHWlVVeFZWWllhRTVoYTJ3MlZqSndSRkZ1VWpaU1Z6bE9VVEZzU0ZGVVJsWlNVWEJFVlZoa2JWWnRNWE5oUld4R1draENhMWRGTlhOWk1HaERZa1ZzUmsxWVdtcGliRmt5V2xjeGNsb3dNVlJrTW1SV1VqSjRObGRXVGtOVlZrNVZVbFU1VGxGWVpFaFJWRVpXVWxWV1VtUXdXazlXUm13MFEyc3hjVlZZYUV4V1JVWjFVVzFrY21OWGFISmhWV00xWkhwQ1ExRXhSbTVVVldSMFlVUkNhMU5GU2paVU1tczBaRzFSZWxwRVRrMWlWRVl5V1cweFIyVnRVa2hXYm14b1ZucG9NVmxXYUZKa2F6RlRVMWhqUzFKVlJscFNSbHBTVlZWU1JWRlhlRWhXYTFaclZHeG5lV0pIZUdoVFJXdzBWRWh3UW1SRlNtNVViRnBEVVZjNVRsTnRkR0ZrYlVwMFZXMW9iR0pYZURKWmJURldXakZhU0U5WWNGcE5hMW94VjFaT1ExTkJjRnBXTUhBMVdWWmtWMk14Y0ZSUmF6VnBUV3BXYjFsNlRsTmlSMDUwWWtoYVRsVllUak5STVVaYVVrWmFVbFZWWkVaa01IQkxWbXRTUkZFd1JuQlRXR1JGVlZac1MxTXlPV0ZUVjJneVdUQTFRbFZWVmtORGEwcFNVVlZTYmxvd2JGRlJWVkpFVVRCR2JtSXdUbTVhTUd4RFVWVXhVMUZYVWxaV01GcERWMjB4TTFRd2FEQlRWekZXVWtkS2IxcFdhRE5sYWtwMFZESTVRbVF5T1RKaFJsWXdZME01VFdGdE9WRmlSMGxMWlZoS2FVOUlValZWUm14dFkwaFdUMWxZUW5sT2JFRXdWbFJzTTJWSVRtdFpNSGh1Vldwa05XRkVVVEpYYTJoRlRtcG9WbUV5VGtsVlJrcENZbTVHZDJKcVRrOVZSWEJZVFRJNE1tUlVaRmRTYkZKU1lsRnZORXd6WkUxbFZGcFBVakExYVZsV2FGaGlWRkphWXpGSmRsWnJTVEpPUmxwd1dXcE9UbUpxV2pOU2VsSlFaRWhvUW1Fd1RsRlhSRXBJWVZWM05HSkhValJhYlhoRVZHeFdiVkZ1VWt4T2EwNTFUVEpPVEVOcWJIUmpWVVpWVWpBNVNGRnRWWFpPYTBwVFlWTjBlbFpzWkRWU1dGcHNVbTVHYjAxSVNsSkxNSGh1Vm10YVMwc3pWblJYUlVadldWZHZNMU13YUVsVGFtdHlVMnR6TkU1VVZqUk5WVXBEV1d0d05sVXdPRXRVTTJSQ1QwWkthR1ZIY0U1UlZFWXpTM3BhZEZOSVJUVmtWbkEyVlRCT2IyVnJTbEJXUlZKdVkxZE9iMUl6U2pGWmJYaHVWMnBrY1dReFpHOVRhVGxGWVZjeFVsWlVXa1ZWVnpGSVRraHJlVkpWVmpWVlFYQkNaVlZWZUV3eWQzcE5RM1EyWkcxc2VtUXdXbFJTVmtGNVRtMXdhVTB5WkZwUFZGWlNaR3RKTlVzeFNrVlpla2swVG5wV1JWbFhVa3RWUjJnd1dtczVWR1JFWkZsamVrRjNaVVJLZFUxV1pEWldhazV6UTJ4d1RWWkhkRXhpYkZwM1lVaFNlRkZWVm1sYVIwbDNVekZzYjFWWGF6UmxRM1IzVWtkU05XRnRPWGxXVnpsSlpWWm9kRk5ZVW5oWGJVWklZVmM0ZG1Rd1ducE9SMUY2WVhwc1lWb3lkR3hhUldSc1lWWkpTMlZJUW5CaWJUVlJUbXhPTTJGR1pFTmphMjh3VGxNNVJrNHlXak5QVjNjeFZVaFdjVlF6YURaa2FUbHFZek5PTVVzelFrVmlSVkpEVjJ4V01FMXFXakZVTW5oTVpHdDBSbVJyY0U1UlZrSklZVE5zVDFsM2J6TmtXR2Q0WVVScmVHRnFVa1ZPUm1oelQxVjRjMDB4V2taVVZHaHNUSHBhVWs5WFRqWk5NREZ0VFRCYVdsTlViRzVhVjBaRVRucHNiMkZJVmtaa2JXeFZUV3M1VEZORVJuZE9iVkpvVTJzd01sRXhaSFZEYW1OeVRrVjBNMHN3ZURaa1ZGSkNZVE5PUm1ReGNIZFVSVmswVjBoa1JWWXdPWFZYUkdScVRETkJlbUl4VWpOT1ZHaDVVbFU1Y2xOVmRFUmhlWFIwVkZod2VHRnFXa05oZWxwU1RYcGpORk42V2xSaFZsRkxWRVZTY0ZOc1ozcFNia295V2xaa1lXSnRiSFpUV0dONVYxTjBZV05ITlRabGFUbERVVlJDV21KclozZE5TSEJWV25rNE5XVlVWbE5rUkdSYVQwWldSbFZ1UmxsaFIwMXlUbnBuTUdGV1FuQmtibWQ0VlVGd1Fsb3dNVU5SVlVaSVlXMWFObEZxYkU1UldHUklVVlJHVmxwRlZqTlNWVWwyWkRGR1JGUlZSa0prTUdnelYxVlNWMVZxUW5GUmEwcHVaREJhZGxGV1ZrUmphMXBXVjFoUmRtUXdSbGhoU0hCWlpXMU9WRU5yVW1saE1scE1WRVZPUlUxRk9IZGtNR2hTVjFWU1YxVnFRbk5SYTBwYVpEQmFRbGRWYkV4a01XeERVV3hHVmxORlJqTlRWV1JFVVROT1NGRldSbFpTYTBvelZGVldUbEZxUWtoUlZFWldXa1ZTYmxWV1kwdFJhMHBUVmxaU1YyVnFWbGxSV0d0M1drVldWMVpGWkhOTk1ERklZVzFhV0ZJelVtOUxNVlp4VVZVNVExb3dOVmRUUmtVMFVXdEdiVTlGVmtOUlZURkVVVzFXUW1Rd1VsSlhWWEJNWWpGd1NtRklXbXBVWjNCQ1ZWVldUVkZzUmtKU1IyUnVVakJLUWxORVRrVmpNV3hHVG5wQ1JHUnRSazVTUkdOMllrUktjVlp0U2tsV00wcE9ZakZ3V1ZsVmNFcFVXRUpKWkRKNGJWWllUbXhSVkdocVRrUlNiVk5XV2pSalZFSlRRMnRXU0ZkWGJGSmxTRTVPVTFoT1IwMXRXWGhoTUdoM1pWWlNRbEV6YURWUldHeEpZa2h3VFU1VVJsbGFWVFZWWVd4U1ZsTXhjRk5YVlRsaFVWVXhVVm96UWs5aldFMTJVV3R3VmxWWWJ6VmthMDVGWTJwQlMxcEhaSFJWYlRCM1YyeG9VVlJXUWpabFZHaEtaV3MxVldGRldUVk9SV1JWVTFoc1NrMHdaRFJUTVZKWFl6Qm9jMHd5Y0VKV00wWjZVVlpPVkZSV1VsaE9hekI2WTBSV1dHTnRhRUpoUm1ScFdtazVVazFuY0dsV1Yyc3dWVmRTYVZSWVVUQmFlVGxHWldzNVMxVnRiM2xXYmxKWlRtdGtXRkpzVm1sUmVtZ3pUVE5vZG1WWGFFaFdSbFpXVTBjNWRsSlZjRTVhVjJ4eldqRldNRTB5TVhka2EzZ3dXa1UxVldWSVFuZERhM1JPVTI1dk0xUkhVbkpOTTBwMVZGUk9hRlpVVWpGa1ZWRnlWWHBXVTJKRVdtbGFXRVUwVkZabmVsZHRUa0paVmtKcFVrZHdSMDlYWkRaTk0yaElaREp6ZDJOVmIzaE1Na1pWVjBWb01GVnNSbXBrVjJkTFRraFdWV0ZWYkZCa1JYQndVbGN4YlUxcmRFWmpNakF5WTI1R1JtSXpWbWxrTVd4dlZFWnNhR1ZIUmtOTk1sVjVXVEpXYjFWR1kzWlVWVGsyWWtaT2FrOVdXWGRoUjBwV1ZVVldhR1JFYkUxaVZ6VkxZVkZ3YzFWVVFqTlZTRTEyVXpKNFJVMXRSbmxXYlZaT1VteHdRbG95WjNwaGFrcHRZMFYwV0ZKcVNsTlpWRnBUVkd4U1VHTklXWEpUYlVvMFpFVlNObVJFV2s1bFdGcExZVzAxYUdKWWJGRlZTRVZ5VGxkamQwTnJiRTFTZWtaVVpVYzFVRlZJV25aaGJYaFpXak5TVUZwVWF6Vmhia0o1WlVaT1lVMVVWbTVpVkU1T1lWZG9SRll5Vm5ST1IyTjZTM3BSTWxacmNETmhNRVp2VDFkR1RsVXlkSE5rYkZwV1VrVndTbFJJWTB0U1JtaDBZbFZPYVZJeVdUVlVWbGt5WlVkak9WQlJQVDBpZlE9PS4uVnpKblpYaExTbkpSZFRacVVEaG5ia2hGYWs1d1NUaFRWMmhLVW5GUVJ6Y3lNbTFtV2xKRlRWRjJNMFJLUVVOTFRUUm5ZVGx5UVhSSlRrUnNObmhTYkZJcmIwSkxZVlpRTkhGQ2IwdFBRMWtyVm5CbmEwWnZUblpTV1hZd1ZqTnFaa3BtYlhkMUswWnRPRkEwVmxneFdHdFJOaTk2VVdOT1lrSmxWRFJwYlRoQldWbGtXV1ZxWm1kU1QzSTBUMU4xWnpCWU5VTm1LMDVFU0hSVlMwODRRblJNYjI1NVUwSTJPR2cwVmpRMVNsVkNTMEYyZUdOeVZXNTVNVXR4Y0hZNFJFVklTa1prWm1relNrSk5WVVJoVFdWVk5uQlplbkIxT0RkV1NVODBRa0UzUkROMU9VaHZSakJTWlhVNVMwOUNSMlpTVFVGelNUWnVRbTlKZUVOWlNFUXdiVGM1U1RaNmFrMUZhbEp6Y3k4cldEZFVWa1paYjJzemFFNWlURWw1TjB0UVpuSnlXa3hXVURGTlVsQlZRVlpzT0RodllraEJibUZvWmxWU1pqTm5lVGRhZDNaWFEyeFRaRFJxUld4SlNrcE9jSE5wZDFGblEyczBia001ZUdOcVQzUnlORXRPTHpKc1JXUk1XVmgyYWtOQlp6QnZXbFZGZVhSNWRtRTFSR2x6YUZZeE1HTjRNekJrTURFM1FXdGlaMjFMVGpCblZqSk5hRUozYmxkWmJGbHZkMWhVTnpkbmFVVTRRek14TTNBck1YRlRXVFFyTTNWbGMyaG1NMjF0Wkc4eFF6TktiSGRKYTBGdkwycERUM0ZWWkdvMWMydFFhMWxoTm5ac1pWQnViMWx0VDBKVFUyeFVRMHhITTJVM2VURjRiMUZJUVVSVU9DODVLMEV5YldkWWRHc3lOSGg2TVRobWJFSnBlbkp0ZVhCc1RuRmhaMjF1ZURSR01GVnFkVWRDVTNwNUsxY3lkMmxPTkZodlJuUjFia3RVYWpoR1EyRlFlVVJIWWpodGFWcEpkbkpGYzJ4S2VVUkRkbFZqWm1adFVIRlZkbXM0YjJKUVpIcE9URkZHVGtVclRHNTRObGcyZG5CRmJURkpialZMV2pab0swUk9WWGhHWW5ObWIxUktUbkJVTW5sTGMyRkVhbXB4ZUhkWlJFaHplRzQwVlROSmVrcDViRFV2ZWxwRmFreFhlVTA5\"}]}},{\"resource\":{\"resourceType\":\"Provenance\",\"id\":\"699addf9-403c-4d81-bdba-853b48c642e1\",\"meta\":{\"profile\":[\"http:\\/\\/interopehrate.eu\\/fhir\\/StructureDefinition\\/Provenance-IEHR\"]},\"target\":[{\"reference\":\"DiagnosticReport\\/db734647-fc99-424c-a864-7e3cda82e703\"}],\"recorded\":\"2022-05-04T16:29:55.808+03:00\",\"agent\":[{\"type\":{\"coding\":[{\"system\":\"http:\\/\\/terminology.hl7.org\\/CodeSystem\\/provenance-participant-type\",\"code\":\"author\",\"display\":\"Author\"}]},\"who\":{\"reference\":\"Practitioner\\/FSTPLG59A26F839C\"}},{\"type\":{\"coding\":[{\"system\":\"http:\\/\\/terminology.hl7.org\\/CodeSystem\\/provenance-participant-type\",\"code\":\"custodian\",\"display\":\"Custodian\"}]},\"who\":{\"reference\":\"Organization\\/1\"}}],\"signature\":[{\"id\":\"e1f68d11-16ca-41e9-a7ef-21702a76c1b9\",\"type\":[{\"system\":\"urn:iso-astm:E1762-95:2013\",\"code\":\"1.2.840.10065.1.12.1.5\",\"display\":\"Verification Signature\"}],\"when\":\"2022-05-04T16:29:55.808+03:00\",\"who\":{\"reference\":\"Organization\\/1\"},\"targetFormat\":\"json\",\"sigFormat\":\"application\\/jose\",\"data\":\"ZXlKaGJHY2lPaUpTVXpJMU5pSXNJbU5sY25ScFptbGpZWFJsSWpvaVZGVnNTbEp1UW5GUk1FNURVVlJhYmxGWVpFcFJhMFp1VTFaV1MyRnNTbWxXZVRsUVlqQmFTMHd6YUU5U1ZHZ3lWRWRyZDA1SWNIQmthM0JZWkZjNU0xSkdSbHBUYTNSMlYydHNiMlJ0VGs5UlZrWkdWRUZ3UTFWVlJqTlhWbEpHWVdzeFJGSlZaRVJhTWpGVVUyMDVkRlpFYUhCbFIzUkNWVlZXVGxKVVNrNWtSVEZJVkZST1QxWkdXbTlVTUZKeVRUQXhSV0ZIYkU1TmJGWTBWMWh3U21WRldsVlJWbEpEV2pBMVYwTnJTa0pVVlRGRlVsUkdiMWx0TVVkaWJIQllUVmQ0YVdKc1NrVlZWbEpHWVdzeFJGSlZaRUpOVmxaR1VUSmtNMWxXU2xaalJVNVNUVVZXYmxWVVNUVmtWMUpJVW01Q2FXSldXalZUVlZwSFRWZEdXRlJ1U1V0WmVrNVRZVWRPZFZWWVpFbGhSMDVQVkZkd1NtUXdOVVZTV0d4T1ZrWldORlJYY0VwbGJHUnZXVEExVG1Gc1JqTlVhMUpHWlVVeFZWWllhRTVoYTJ3MlZqSndSRkZ1VWpaU1Z6bE9VVEZzU0ZGVVJsWlNVWEJFVlZoa2JWWnRNWE5oUld4R1draENhMWRGTlhOWk1HaERZa1ZzUmsxWVdtcGliRmt5V2xjeGNsb3dNVlJrTW1SV1VqSjRObGRXVGtOVlZrNVZVbFU1VGxGWVpFaFJWRVpXVWxWV1VtUXdXazlXUm13MFEyc3hjVlZZYUV4V1JVWjFVVzFrY21OWGFISmhWV00xWkhwQ1ExRXhSbTVVVldSMFlVUkNhMU5GU2paVU1tczBaRzFSZWxwRVRrMWlWRVl5V1cweFIyVnRVa2hXYm14b1ZucG9NVmxXYUZKa2F6RlRVMWhqUzFKVlJscFNSbHBTVlZWU1JWRlhlRWhXYTFaclZHeG5lV0pIZUdoVFJXdzBWRWh3UW1SRlNtNVViRnBEVVZjNVRsTnRkR0ZrYlVwMFZXMW9iR0pYZURKWmJURldXakZhU0U5WWNGcE5hMW94VjFaT1ExTkJjRnBXTUhBMVdWWmtWMk14Y0ZSUmF6VnBUV3BXYjFsNlRsTmlSMDUwWWtoYVRsVllUak5STVVaYVVrWmFVbFZWWkVaa01IQkxWbXRTUkZFd1JuQlRXR1JGVlZac1MxTXlPV0ZUVjJneVdUQTFRbFZWVmtORGEwcFNVVlZTYmxvd2JGRlJWVkpFVVRCR2JtSXdUbTVhTUd4RFVWVXhVMUZYVWxaV01GcERWMjB4TTFRd2FEQlRWekZXVWtkS2IxcFdhRE5sYWtwMFZESTVRbVF5T1RKaFJsWXdZME01VFdGdE9WRmlSMGxMWlZoS2FVOUlValZWUm14dFkwaFdUMWxZUW5sT2JFRXdWbFJzTTJWSVRtdFpNSGh1Vldwa05XRkVVVEpYYTJoRlRtcG9WbUV5VGtsVlJrcENZbTVHZDJKcVRrOVZSWEJZVFRJNE1tUlVaRmRTYkZKU1lsRnZORXd6WkUxbFZGcFBVakExYVZsV2FGaGlWRkphWXpGSmRsWnJTVEpPUmxwd1dXcE9UbUpxV2pOU2VsSlFaRWhvUW1Fd1RsRlhSRXBJWVZWM05HSkhValJhYlhoRVZHeFdiVkZ1VWt4T2EwNTFUVEpPVEVOcWJIUmpWVVpWVWpBNVNGRnRWWFpPYTBwVFlWTjBlbFpzWkRWU1dGcHNVbTVHYjAxSVNsSkxNSGh1Vm10YVMwc3pWblJYUlVadldWZHZNMU13YUVsVGFtdHlVMnR6TkU1VVZqUk5WVXBEV1d0d05sVXdPRXRVTTJSQ1QwWkthR1ZIY0U1UlZFWXpTM3BhZEZOSVJUVmtWbkEyVlRCT2IyVnJTbEJXUlZKdVkxZE9iMUl6U2pGWmJYaHVWMnBrY1dReFpHOVRhVGxGWVZjeFVsWlVXa1ZWVnpGSVRraHJlVkpWVmpWVlFYQkNaVlZWZUV3eWQzcE5RM1EyWkcxc2VtUXdXbFJTVmtGNVRtMXdhVTB5WkZwUFZGWlNaR3RKTlVzeFNrVlpla2swVG5wV1JWbFhVa3RWUjJnd1dtczVWR1JFWkZsamVrRjNaVVJLZFUxV1pEWldhazV6UTJ4d1RWWkhkRXhpYkZwM1lVaFNlRkZWVm1sYVIwbDNVekZzYjFWWGF6UmxRM1IzVWtkU05XRnRPWGxXVnpsSlpWWm9kRk5ZVW5oWGJVWklZVmM0ZG1Rd1ducE9SMUY2WVhwc1lWb3lkR3hhUldSc1lWWkpTMlZJUW5CaWJUVlJUbXhPTTJGR1pFTmphMjh3VGxNNVJrNHlXak5QVjNjeFZVaFdjVlF6YURaa2FUbHFZek5PTVVzelFrVmlSVkpEVjJ4V01FMXFXakZVTW5oTVpHdDBSbVJyY0U1UlZrSklZVE5zVDFsM2J6TmtXR2Q0WVVScmVHRnFVa1ZPUm1oelQxVjRjMDB4V2taVVZHaHNUSHBhVWs5WFRqWk5NREZ0VFRCYVdsTlViRzVhVjBaRVRucHNiMkZJVmtaa2JXeFZUV3M1VEZORVJuZE9iVkpvVTJzd01sRXhaSFZEYW1OeVRrVjBNMHN3ZURaa1ZGSkNZVE5PUm1ReGNIZFVSVmswVjBoa1JWWXdPWFZYUkdScVRETkJlbUl4VWpOT1ZHaDVVbFU1Y2xOVmRFUmhlWFIwVkZod2VHRnFXa05oZWxwU1RYcGpORk42V2xSaFZsRkxWRVZTY0ZOc1ozcFNia295V2xaa1lXSnRiSFpUV0dONVYxTjBZV05ITlRabGFUbERVVlJDV21KclozZE5TSEJWV25rNE5XVlVWbE5rUkdSYVQwWldSbFZ1UmxsaFIwMXlUbnBuTUdGV1FuQmtibWQ0VlVGd1Fsb3dNVU5SVlVaSVlXMWFObEZxYkU1UldHUklVVlJHVmxwRlZqTlNWVWwyWkRGR1JGUlZSa0prTUdnelYxVlNWMVZxUW5GUmEwcHVaREJhZGxGV1ZrUmphMXBXVjFoUmRtUXdSbGhoU0hCWlpXMU9WRU5yVW1saE1scE1WRVZPUlUxRk9IZGtNR2hTVjFWU1YxVnFRbk5SYTBwYVpEQmFRbGRWYkV4a01XeERVV3hHVmxORlJqTlRWV1JFVVROT1NGRldSbFpTYTBvelZGVldUbEZxUWtoUlZFWldXa1ZTYmxWV1kwdFJhMHBUVmxaU1YyVnFWbGxSV0d0M1drVldWMVpGWkhOTk1ERklZVzFhV0ZJelVtOUxNVlp4VVZVNVExb3dOVmRUUmtVMFVXdEdiVTlGVmtOUlZURkVVVzFXUW1Rd1VsSlhWWEJNWWpGd1NtRklXbXBVWjNCQ1ZWVldUVkZzUmtKU1IyUnVVakJLUWxORVRrVmpNV3hHVG5wQ1JHUnRSazVTUkdOMllrUktjVlp0U2tsV00wcE9ZakZ3V1ZsVmNFcFVXRUpKWkRKNGJWWllUbXhSVkdocVRrUlNiVk5XV2pSalZFSlRRMnRXU0ZkWGJGSmxTRTVPVTFoT1IwMXRXWGhoTUdoM1pWWlNRbEV6YURWUldHeEpZa2h3VFU1VVJsbGFWVFZWWVd4U1ZsTXhjRk5YVlRsaFVWVXhVVm96UWs5aldFMTJVV3R3VmxWWWJ6VmthMDVGWTJwQlMxcEhaSFJWYlRCM1YyeG9VVlJXUWpabFZHaEtaV3MxVldGRldUVk9SV1JWVTFoc1NrMHdaRFJUTVZKWFl6Qm9jMHd5Y0VKV00wWjZVVlpPVkZSV1VsaE9hekI2WTBSV1dHTnRhRUpoUm1ScFdtazVVazFuY0dsV1Yyc3dWVmRTYVZSWVVUQmFlVGxHWldzNVMxVnRiM2xXYmxKWlRtdGtXRkpzVm1sUmVtZ3pUVE5vZG1WWGFFaFdSbFpXVTBjNWRsSlZjRTVhVjJ4eldqRldNRTB5TVhka2EzZ3dXa1UxVldWSVFuZERhM1JPVTI1dk0xUkhVbkpOTTBwMVZGUk9hRlpVVWpGa1ZWRnlWWHBXVTJKRVdtbGFXRVUwVkZabmVsZHRUa0paVmtKcFVrZHdSMDlYWkRaTk0yaElaREp6ZDJOVmIzaE1Na1pWVjBWb01GVnNSbXBrVjJkTFRraFdWV0ZWYkZCa1JYQndVbGN4YlUxcmRFWmpNakF5WTI1R1JtSXpWbWxrTVd4dlZFWnNhR1ZIUmtOTk1sVjVXVEpXYjFWR1kzWlVWVGsyWWtaT2FrOVdXWGRoUjBwV1ZVVldhR1JFYkUxaVZ6VkxZVkZ3YzFWVVFqTlZTRTEyVXpKNFJVMXRSbmxXYlZaT1VteHdRbG95WjNwaGFrcHRZMFYwV0ZKcVNsTlpWRnBUVkd4U1VHTklXWEpUYlVvMFpFVlNObVJFV2s1bFdGcExZVzAxYUdKWWJGRlZTRVZ5VGxkamQwTnJiRTFTZWtaVVpVYzFVRlZJV25aaGJYaFpXak5TVUZwVWF6Vmhia0o1WlVaT1lVMVVWbTVpVkU1T1lWZG9SRll5Vm5ST1IyTjZTM3BSTWxacmNETmhNRVp2VDFkR1RsVXlkSE5rYkZwV1VrVndTbFJJWTB0U1JtaDBZbFZPYVZJeVdUVlVWbGt5WlVkak9WQlJQVDBpZlE9PS4uUW5CTE4zZEZZbUZpTkdGUFlWVnZTMFl5SzA0MFEwaHlObVpVZFZvNWNtMVNNakZhVHlzNVJERTFOR2RXTjFsUVFtUmtjRWRwSzJnclJUQlZjemRDYVZrNVlrUXllVkJISzJoaFIycHNLMkpwUmt0WUswc3pWbGh4WmtrelpEWkVPWE5DTVU5NlpXeEhSM0U1U0d4TWNXSnFkV05ZY0VaNVIyVklhWEZuUzJoVlVEbFNiMEk1UzBONllYRmpUbkJNVmt3clZ6VnpiRGhyVURBMlNqWlRNWHBTUlc1WldGcHdibG8xWWpKaFpXSmxWV2RYY21ka1dWVnpVMUk1ZVZkeFNsRnliMjlQTmtsQ1UxaHJUbVZTTmpkdGJWQnJUMFJLVkU1SVdFWklXRXMxTlZkUlRsZFZXRkZJVjNWWmJVZ3hRak5yTjBOSlJUbEVObGhGYW5CdkwwTTJSVTFNZERGR09EVnFZMUJIYVRWM2FXMUhjV2RSVFZOcmNFaE9NaXR0WTNSbmJEZDRNV3RwYzBod1psZEdkRGd6VjNZMWVXa3JiWEI2UmtvNE4zZ3lXRnBzU1ZoaVFYRnVTRTV6TDAwcmRVcDRWbU5PUlVGSmNIRkpjRWN3Wm1kTU1pOU9SWEZ5YVRSbEszaEZOV0pZZDNBMlJVRlNhRVowUjBWdFdIWnhNbFJ3WVZvd2RETkhORmRpUlU1eWJESmlkbVJoYWtkd09DdG5UM0ZKU21Ka1VrcFJPVVJrY1ZGVmFTdFlWWHBvTTJJelRrNTNRMUJhWW1KTE4yRTFUakZ2YmpKVmJ6UmtSemMxU0RSWmRrOXdXSEp4Ykd4eGNEZENWVU13UXpZeVZUZHRWMlpLTTJzMWNHTmpLMWRWY0ZwUmVGcFdUMUJUUnk5RFRrSnVRVEIxY0RrcmRsSnJka3RRVml0WWRrOVVjRlZvWkRsVlRtcGlUamxvYTJoS1ExVkRZWGxOU0RaclUwOWxZbVY2UjJkWU0zcFphWEp3WjBNMU9GZFBaMjlUVjBOQ2JqSlRUVE0yWW13dldHbDZRMnh1VnpWdU0zQnVNMDlyZFROQ1pIUmtlVXhoYlhKWFFqRTFORUZsYkhOQ1pEZFlaVFl5WkdGeWVFdERNVVJpU0VGWlIxZGtXRVIyYW1sM05UUTVNazF3VTJNMU9YUnNUWEF4TDFWUGFIRkJWamhRZVVwemMzaEZOWGM5\"}]}},{\"resource\":{\"resourceType\":\"Organization\",\"id\":\"1\",\"identifier\":[{\"value\":\"FTGM\"}],\"active\":true,\"name\":\"Fondazione Gabriele Monasterio\",\"address\":[{\"use\":\"work\",\"line\":[\"Via Moruzzi, 1\"],\"city\":\"Pisa\",\"state\":\"Italia\",\"postalCode\":\"56126\"}]}}]}";
////        String bndle = "{\"resourceType\":\"Bundle\",\"entry\":[{\"resource\":{\"resourceType\":\"Practitioner\",\"id\":\"867bac00-fbae-426d-adbd-adc6bdf8b4ec\",\"name\":[{\"family\":\"Ion Popescu\"}]}},{\"resource\":{\"resourceType\":\"Organization\",\"id\":\"e9a0a26e-9034-4816-97db-c9314b5a0120\"}},{\"resource\":{\"resourceType\":\"Composition\",\"id\":\"adc18abb-aca4-4c02-9906-d608d97430cb\",\"meta\":{\"profile\":[\"http:\\/\\/interopehrate.eu\\/fhir\\/StructureDefinition\\/Composition-VisitReport-IEHR\"]},\"extension\":[{\"url\":\"http:\\/\\/interopehrate.eu\\/fhir\\/StructureDefinition\\/ProvenanceExtension-IEHR\",\"valueReference\":{\"reference\":\"Provenance\\/851313cc-cc86-4c31-ae83-91b302880c6c\"}}],\"status\":\"final\",\"type\":{\"coding\":[{\"system\":\"http:\\/\\/loinc.org\",\"code\":\"81214-9\"}]},\"encounter\":{\"reference\":\"Encounter\\/7106e06d-03ea-4963-bbf5-575317aa7f65\"},\"date\":\"2022-05-16T09:55:44+03:00\",\"title\":\"Medical Visit\",\"section\":[{\"code\":{\"coding\":[{\"system\":\"http:\\/\\/loinc.org\",\"code\":\"8716-3\",\"display\":\"Vital signs\"}]},\"entry\":[{\"reference\":\"Observation\\/5c72d65f-65c2-4c97-ae02-7175b26e1f92\"}]},{\"code\":{\"coding\":[{\"system\":\"http:\\/\\/www.whocc.no\\/atc\",\"code\":\"10183-2\",\"display\":\"Hospital discharge medications\"}]},\"entry\":[{\"reference\":\"MedicationStatement\\/7af8fac4-5c9b-42ab-8874-8b48bb5277c8\"}]},{\"code\":{\"coding\":[{\"system\":\"http:\\/\\/loinc.org\",\"code\":\"75326-9\",\"display\":\"Current Diseases\"}]},\"entry\":[{\"reference\":\"Condition\\/5e5ad5ca-d627-4020-9cb5-abad35b519c7\"}]},{\"code\":{\"coding\":[{\"system\":\"http:\\/\\/loinc.org\",\"code\":\"55110-1\",\"display\":\"Diagnostic Conclusion\"}]},\"entry\":[{\"reference\":\"Condition\\/f4937823-c97c-4011-b073-aa6d68c9d8af\"}]},{\"code\":{\"coding\":[{\"system\":\"http:\\/\\/loinc.org\",\"code\":\"18776-5\",\"display\":\"Treatment Plan\"}]},\"entry\":[{\"reference\":\"CarePlan\\/2ddd5e39-2db3-41c2-a7df-cb0d2090e72b\"}]},{\"code\":{\"coding\":[{\"system\":\"http:\\/\\/loinc.org\",\"code\":\"29545-1\",\"display\":\"Instrument Examination\"}]}},{\"code\":{\"coding\":[{\"system\":\"http:\\/\\/loinc.org\",\"code\":\"48765-2\",\"display\":\"Allergies and adverse reactions Document\"}]},\"entry\":[{\"reference\":\"AllergyIntolerance\\/7fc02a82-acd5-4a94-b28a-fcec641155d3\"}]}]}},{\"resource\":{\"resourceType\":\"Encounter\",\"id\":\"7106e06d-03ea-4963-bbf5-575317aa7f65\",\"meta\":{\"profile\":[\"http:\\/\\/interopehrate.eu\\/fhir\\/StructureDefinition\\/Composition-VisitReport-IEHR\"]},\"status\":\"finished\",\"class\":{\"system\":\"http:\\/\\/terminology.hl7.org\\/CodeSystem\\/v3-ActCode\",\"code\":\"AMB\",\"display\":\"ambulatory\"},\"period\":{\"start\":\"2022-05-16T09:55:44+03:00\"}}},{\"resource\":{\"resourceType\":\"Observation\",\"id\":\"5c72d65f-65c2-4c97-ae02-7175b26e1f92\",\"code\":{\"coding\":[{\"system\":\"http:\\/\\/loinc.org\",\"code\":\"3097-3\",\"display\":\"Creatinine\"}]},\"subject\":{\"reference\":\"Patient\\/23ba578d-350b-4894-a0d4-85647edbbbb8\"},\"effectiveDateTime\":\"2022-05-16T09:55:44+03:00\",\"valueQuantity\":{\"value\":11,\"unit\":\"mg\\/dL\",\"system\":\"http:\\/\\/unitsofmeasure.org\",\"code\":\"mg\\/dL\"}}},{\"resource\":{\"resourceType\":\"MedicationStatement\",\"id\":\"7af8fac4-5c9b-42ab-8874-8b48bb5277c8\",\"status\":\"active\",\"medicationReference\":{\"reference\":\"Medication\\/74475d7b-ff97-4370-a88b-245af8954c93\"},\"dosage\":[{\"additionalInstruction\":[{\"text\":\"notes\"}],\"timing\":{\"repeat\":{\"boundsPeriod\":{\"start\":\"2022-05-16T00:00:00+03:00\"},\"frequency\":3,\"period\":1,\"periodUnit\":\"d\"}},\"doseAndRate\":[{\"doseQuantity\":{\"value\":1}}]}]}},{\"resource\":{\"resourceType\":\"Medication\",\"id\":\"74475d7b-ff97-4370-a88b-245af8954c93\",\"code\":{\"coding\":[{\"system\":\"http:\\/\\/www.whocc.no\\/atc\",\"code\":\"J01CA04\",\"display\":\"Amoxil\"}]}}},{\"resource\":{\"resourceType\":\"Condition\",\"id\":\"5e5ad5ca-d627-4020-9cb5-abad35b519c7\",\"code\":{\"coding\":[{\"system\":\"http:\\/\\/hl7.org\\/fhir\\/sid\\/icd-10-cm\",\"code\":\"O24.3\",\"display\":\"Pre-existing type 1 diabetes mellitus, in the puerperium\"}]},\"onsetDateTime\":\"2022-05-16T00:00:00+03:00\"}},{\"resource\":{\"resourceType\":\"Condition\",\"id\":\"f4937823-c97c-4011-b073-aa6d68c9d8af\",\"category\":[{\"coding\":[{\"system\":\"http:\\/\\/loinc.org\",\"code\":\"55110-1\",\"display\":\"Conclusions [Interpretation] Document\"}]}],\"note\":[{\"text\":\"NOte c\"}]}},{\"resource\":{\"resourceType\":\"CarePlan\",\"id\":\"2ddd5e39-2db3-41c2-a7df-cb0d2090e72b\",\"category\":[{\"coding\":[{\"system\":\"http:\\/\\/loinc.org\",\"code\":\"18776-5\",\"display\":\"Plan of care note\"}]}],\"title\":\"Treatment Plan\",\"description\":\" Note t\",\"created\":\"2022-05-16T09:55:44+03:00\"}},{\"resource\":{\"resourceType\":\"AllergyIntolerance\",\"id\":\"7fc02a82-acd5-4a94-b28a-fcec641155d3\",\"category\":[\"medication\"],\"code\":{\"coding\":[{\"system\":\"http:\\/\\/loinc\",\"code\":\"48765-2\",\"display\":\"name\"}]}}},{\"resource\":{\"resourceType\":\"Provenance\",\"id\":\"851313cc-cc86-4c31-ae83-91b302880c6c\",\"meta\":{\"profile\":[\"http:\\/\\/interopehrate.eu\\/fhir\\/StructureDefinition\\/Provenance-IEHR\"]},\"target\":[{\"reference\":\"Composition\\/adc18abb-aca4-4c02-9906-d608d97430cb\"}],\"recorded\":\"2022-05-16T09:55:44.792+03:00\",\"agent\":[{\"type\":{\"coding\":[{\"system\":\"http:\\/\\/terminology.hl7.org\\/CodeSystem\\/provenance-participant-type\",\"code\":\"author\",\"display\":\"Author\"}]},\"who\":{\"reference\":\"Practitioner\\/867bac00-fbae-426d-adbd-adc6bdf8b4ec\"}},{\"type\":{\"coding\":[{\"system\":\"http:\\/\\/terminology.hl7.org\\/CodeSystem\\/provenance-participant-type\",\"code\":\"custodian\",\"display\":\"Custodian\"}]},\"who\":{\"reference\":\"Organization\\/e9a0a26e-9034-4816-97db-c9314b5a0120\"}}],\"signature\":[{\"id\":\"743a965e-a352-4f64-8b33-2d35e4228bde\",\"type\":[{\"system\":\"urn:iso-astm:E1762-95:2013\",\"code\":\"1.2.840.10065.1.12.1.5\",\"display\":\"Verification Signature\"}],\"when\":\"2022-05-16T09:55:44.792+03:00\",\"who\":{\"reference\":\"Organization\\/e9a0a26e-9034-4816-97db-c9314b5a0120\"},\"targetFormat\":\"json\",\"sigFormat\":\"application\\/jose\",\"data\":\"ZXlKaGJHY2lPaUpTVXpJMU5pSXNJbU5sY25ScFptbGpZWFJsSWpvaVZGVnNTbEpyVGpaUk1FNUNUVEE1YmxGWVpFcFJhMFp1VTFaV1ZXRXpRazVhUjJSYVkwUm9WRTR4VmxoWmFtZDNWVVp3YzJKV2IzaFVSRXBWWlcxa00xSkdSbHBUYTNSMlYydHNiMlJ0VGs5UlZrWkdWRUZ3UTFWVlJqTlhWbEpHWVdzeFJGSlZaRVJhTWpGVVUyMDVkRlpFYUhCbFIzUkNWVlZXVGxKVVNrNWtSVEZJVkZST1QxWkdXbTlVTUZKeVRUQXhSV0ZIYkU1TmJGWTBWMWh3U21WRldsVlJWbEpEV2pBMVYwTnJTa0pVVlRGRlVsUkdiMWx0TVVkaWJIQllUVmQ0YVdKc1NrVlZWbEpHWVdzeFJGSlZaRUpOVmxaR1VUSmtNMWxXU2xaalJVNVNUVVZXYmxWVVNUVmtWMUpJVW01Q2FXSldXalZUVlZwSFRWZEdXRlJ1U1V0WmVrNVRZVWRPZFZWWVpFbGhSMDVQVkZkd1NtUXdNWEZUVkVaT1ZrVnNOVlJXVWxKbFJtUnZXVEExVG1Gc1JqTlVWM0JLVFZVeFZWTlliRTVXUmtZMFZqSndRbHBGTVZOak0yUklWVlpzUlZac1JsSlNRWEJGVVd0d2RsZHNaRWRqTWxKSVlVaGFhbUpYVW05WmJURnpUbXhzV1ZWdVFtbE5hbEl6V2pKa1NtRlZNVUpOUldSRVZUTkdTRlV3YkdsTk1GSlNVbFZLUWxWV1ZrSlJWRkpLVVRCU00xRllaRzVhTUd4TVEydEdkbE5WVGtKVlZWSmFUSHBrV0dFeFFqUlZSMk15VDFkc2VtUnFTa2xaYlZaQ1ZFZE9WbEZzV2xKUFIwa3dVa2hrYTA0d1drOVZNbVJxWkZVNGVsSXlVbkJVYlhCclREQldNbFY2YTNwTGVteHJVMWRuUzB0NWRHOWlSazQwVFZSR1VGbHRlRVpPUkdodFl6TkdTbUV6YUZWV1YwWnlaVVpLYzJNelNrbFNWa0o1VlhwR2EyVlVhRVpaV0ZFd1pFUkdkRkl6U201WFZuQnFUMVp3YjAxWWNFNWpSWFJ5VXpGR01tSjNiekZrTTJSSVRrYzBNMU50WkZaUFYwWnZVMVY0VG1KRWFIbGFWRVpQWW0xYVVWWnRiR3hWUlhCNVVrVndhMDlGUlhwUFIxRjJZa1pHYkdSWFVsWlRSM1J2V2xWT00xa3dhM2RhYm1oRFpGVlpOV1JyVmtaRGJrWlVWbFZOTUZwV1pFWlZSa3BTVGtWU1FsVXliRTFrVjFrMFRrZGFlbUZFVmtWbFJGcEZZVzVTVDJSRk1VVk1NakI0VWtkS2EySXpUa3hpU0ZJeFZqRktSMXBET1hsUFJtaFRZa1prUkZFemIzSmlia2xMVTFjMGRtTnRaRlpoUlRBeVlrVTFVbEV4YkdGaWJuQlBaRWQ0ZFdJelRraFVlbXhZWlZOMFYwOUdXbmxrV0ZwUlpHdHdkVkpzVW1GVFJGWjZUV3hzVkZSWVFUTmlNR2hOVEROb2JWWkVXbHBTUjFKTFkzZHdRbUo2U2xsVGJWWkRVbXQ0VTFVd2FFTmxSa1pDV210U1JFMXRTa05PVmtKRlpXcEZkMWxWVWxKaGJWcExZbnBDU1ZKVk9VVlBSRVpWVGpBeFRsbFhUVFJMZWtwNVltcEtlRkpGTlcxaWJYQXdUVE5hYWtOdGFFaFRWbVJIV2tac1VVOUZPVlJXYlhCcFlXNVNkbFpzWkRCaGFrcG9ZVEprYlZkcVNtMVNNVTVTWW5wV1ExWlZjSHBNTWxaMFV6TkdNazV1V25Sak1VSlNUak5hYlZsVVZuZFRhVGxSVVhwQk1sZEZjMHRVZW1oc1pFaGthR1ZZV2tkTU1IaDZaV3BPTTJFeGIzbGlSVGd6VlVkcmQxUkdWa1paYTFaM1pGaGtSbFpzY0RCbGJXZDNXa1ZhVG1GSE5WWlRSRUpLWlZjMWFGUkdVakJoTWxwcFZGWmtTbGxWYkZwWlVYQndXbFZPV0ZNeldtcFBWVGw1WTFSU2MxZEZSVE5OTWtaclRrWlNVbVJIT1RaTlZuQTBXbE56ZWxGck1XeGhiWE16WTFSYVZVNVRkR3hrYTBvMFdrVjBXRlJXVVRWV1ZVb3lVbnBrWVU5RVZreGxhbVJGUTI1YWNHUkhNV2hqVmswMFZrZEdURkpJU21oVlNHeHRUVVJLUmxGVVJsVmxWelYzVTJ0ak0yUXlVa1ZTUm04MVRrVk9OVTFHY0ZSTmFsbDZZMGQ0YzFKNmFHcFdiRkpPWkVoa1VGRldaRWhVVTNSNVZsVmpTMlJWVmxsVmJWcHpVM3BvUkdSck1IcFdSM1ExV201b1FsUklaRmxhVm5CTFdWTnplVlZVUW5wTE1VRjJaVzFXVDA0eFFteGtWVVpGWXpGYVZGUlVWbmhYV0dSS1VrVkdVbEZWU25aTmVtZ3pXbXhTUWxSUmNFTmFNRFZYVTBaS1RsRnJSbTFQUlZaQ1lXdEdRbFJWU1RSU01FVjRWbGRTU21ReFJscFVWVXBvVVZWYVFtTllhRmRTTUhodFQwVkdSMkl5VFhoUFJFNUdXbnBKTVZOSWJIQmtNbU0xVWtoU1RsRnFRa2hEYTBWNFZsZFNTMVZXUmxoVVZVcFNVakJPUkdNd1pFSlZWbFpIVVc1a1RsRXdTbTVhTTBwRFdqQldSMUZzUm1wU1JVcEZVVmRTUTFvd05WZFRSa1V3VWxWYWJsVldWWGxWVnpGWVlsZGtRbGt6WkRaa1IzTkxWRWhvVWs1R1dUSlplbFpaWVhwc2RGWkdaRTVrTUZKdVYxVlNWMVZxUWxGUlZrWkpUREJLUWxWVlVrSmFNV2h1VkZWRmQxSXdUbFJqVldSVVUxZEplbEpHUmtaUmEwNHpWbFZHUWs1RmJFTmFNVVpFWVhkdk1WRlVVazlYVkdodFRUSldOVlV4YkZSUlYwcFFWRmMxWVU5RWJEVlBSVFZHVXpKMGRHRXpWa0pSTUVsM1ZteGFNRTV1V2tsaWJYaFZVak5hYWxOSWJFSlBSbkJXVTFSU05WZEZhRFZaVms1clQxVldlRU5zUlhoaVYxRjZWa1ZXUmxvd1RqUmlWM0JxVERGcmRtRXlZM3BYVnpGeFVqTlNWRk5ZVmpOYU1XaHFWVlpzUWxrd1pGSmlRM1IyVlZjeFRGWnRiM2xhYTBWNFRrUmtObE5YVGxsaVYzQlVXbFZzVEZwSFVVdGtNSGg2VTBSQk1tUlVXazFXTUhkeVpHeFdhRTR4VmxaaVZrWkVZMnhhZFU5RVVubE5lazAwVlhsME5HSnNhM2hOTUUweVlqQldWMk15Vm5aWFdFSndZMVJPV2xZd05XNVdWbXgwVGtjeGVWZFdVbEJsUVhCNFlrWndhRlZyY3pGaFZrVXhaVlpTYmxOV1FuTmFhMUYyVXpGUmVsbFlSbkJsYTNOM1dWWnNiMVpVWkZWTGVscE9ZbXBhZFU1Vk1XOVpWbHBhWkZWR1Nrc3pWWEpXV0doU1ZUQTFTMDVzVmxSa2JuQlpRMnhrYTFKWVpHbE5NbWhxWWpKWk1FNVdaRk5XV0hBMVYyNUNiR1ZxVWt0a1ZFSkhUMGR3U21Sc2FIVlZWM042VldwUk5WTnRlRmhWVkZaMFZVYzFWV0pVU21oUlZHUkhUVE5HYmxGdVZuRmFSMVpxWW5wVlMxVXlVVEpoYkZwclducFNUbGxWV25CbFYyczFVbTVzV2xac2EzZGtNbFl3WTBaV2VXVnRSbFJsUkdjd1dsVm9VbFJxVmxGVE1EVjBZVlpGZWxsc2J6UmlWemd4WVd0c2NHSnRPVzVUTURWelkxZGtORk5uY0c5WmVrWkdVMFpSY2xReGFITlNia1pHVmtab2MyRXdaRmxPYWtwd1pVWmtkVk5GZUZoVmExWmFWVmRTY2xOR1dUUlpNRTV4WXpKME5GcFhVbWhrUmtKVlkyeFdNbGRWY0c1Vk1EbElXa2RHUjFWcmRGSkRia0pWVGtOemNrNVhNVFZrTUZrMVYwWkZlR0pYVm1oaVZUUjVVbGhhY1ZWWGRHOWlWMXBxVTJ4Wk5GUlZiRkJqU0c5NVlqSlNVR1ZGUlhkWmJrSjZWak5PUW1ScVJuTlhibVJUWkRKS1VtSlVaRXBpZWpBOUluMD0uLlQxaGtjbmh4TVdacGFEbFJSRWRTVURsdFlreEZkR28zTDFRemRrbG9NVEZGVWtzeFRWTnVVMWt2YVZSclZ6QnFTak5VVGxSNVF6UlFOalE0TDA1NE9XRTVSVk5aVkdoTmJXZFpabWxMWTJWMlVtZHlkRVJwVDB4NVVHdDNURFo2YXk5c1QxWm5kR3BpYTFOWllsZHlhWEYzYTJ0aWRuRlRPV2xDWTNCeWNscEZSSG9yZDFaUmMwZDBOVEpMY3pGb2REVmlNa1ZoZFV4SFQycERkbGhKU3pRNGNVbFRVWGhFUWtRM0x6RktjVzFYT0VKNWJHUXZXa1IyVkZkRE5WQmlVbkZYSzNGdlFYZE1TVTR6WVhBdmJXd3JiWFZXVG5oR09USm5jVzV0TWs1aFJuaHpha2hWYWsxelVqUXhhM1JJVVdGWVNWTmlabEJtYzNCNE5qRk5SMmd3TURaSVlrTnJPSEJ3YWxRelVXZEtOVlZEZVhjM05FcHFXWHBpVlhKcFZrRndibFpITm5sMFYzVlRUaTk0YVhFMWVVeFNVSFJETkVSUmFFRTBWWEpXZUZwTmVVdDFaRGR4TDJkeFoxZHJaRFJNYW5reU0yUnFZazRyWmpaWWNXZHpiVk13TkhWUUwwNXJZaXM1UzNkaVoycHJiR3hWVFhocVlpOXRLMUl2WlU1NmFXVndSMHRKY2s1dVJ6QkNUM2x6T0hOUVF6SkhiVzV4T1hSSFlWUlNRMXA2UlVzcmNFNVlNSEowVFc5YWNFazVSMUpIWkdsMGJqSk9TV1E1WjNCb01FMWtVWGhKTUcxRmF5dHhiek5WZG5aaVFuWlBXazVWV2xCUU4wNVJVR1oyWlZOa2JqWnVRWFZJYWxSVVVsRlRiRzFGZUdrcmRIaFdRWHB0YVVwa1VtMXVNUzg0Ym1wYWRqQldUSGhQYlRsSGRrRTVRV3BtTTJ4RFdqRnhWRzl1WjFGdVNscEVWSGhxY0ZBM2NHUXJNREZxTWs4d1dEUndVakJFUlRGcFNIaEtiWEZ6V0hWdE5XbHBUWEZoY1ZsSU1qTkdZV0ZhUTJ4d1V5dHpjM0J1VTA5emFYWTRRMFUxYTJ0VWVHTTViMVpRYkhGalQyd3JWVzE2V0RsWU9FTnBWMUJXUTNjNVltNUxjMHRNWWtrclIzWjJaMWhtUW1VMlRrTmtTRU53VldGaVNrTllOU3R4VFdzOQ==\"}]}}]}";
//        String bndle = "{\"resourceType\":\"Bundle\",\"entry\":[{\"resource\":{\"resourceType\":\"Practitioner\",\"id\":\"a04b207d-b2d9-4b18-83a9-5d4a925c37f3\",\"name\":[{\"family\":\"Giuseppe Vergaro\"}]}},{\"resource\":{\"resourceType\":\"Organization\",\"id\":\"235a3827-56f9-4df8-8e27-d8a939e1b42e\"}},{\"resource\":{\"resourceType\":\"Composition\",\"id\":\"dd74192e-2e0d-4825-ae1a-3ce4de72a147\",\"meta\":{\"profile\":[\"http:\\/\\/interopehrate.eu\\/fhir\\/StructureDefinition\\/Composition-VisitReport-IEHR\"]},\"extension\":[{\"url\":\"http:\\/\\/interopehrate.eu\\/fhir\\/StructureDefinition\\/ProvenanceExtension-IEHR\",\"valueReference\":{\"reference\":\"Provenance\\/dc5ec033-853a-4f76-acd2-4788310f1d30\"}}],\"status\":\"final\",\"type\":{\"coding\":[{\"system\":\"http:\\/\\/loinc.org\",\"code\":\"81214-9\"}]},\"encounter\":{\"reference\":\"Encounter\\/e6abc1a7-8848-4cff-a7b2-969cb9580eb6\"},\"date\":\"2022-05-19T13:42:19+03:00\",\"title\":\"Medical Visit\",\"section\":[{\"code\":{\"coding\":[{\"system\":\"http:\\/\\/loinc.org\",\"code\":\"8716-3\",\"display\":\"Vital signs\"}]},\"entry\":[{\"reference\":\"Observation\\/2f047e09-c9ea-4f2a-9a63-6a09187c9050\"}]},{\"code\":{\"coding\":[{\"system\":\"http:\\/\\/loinc.org\",\"code\":\"10183-2\",\"display\":\"Hospital discharge medications\"}]},\"entry\":[{\"reference\":\"MedicationStatement\\/330a6010-4ec1-42a7-8b3e-83180e4479eb\"}]},{\"code\":{\"coding\":[{\"system\":\"http:\\/\\/loinc.org\",\"code\":\"75326-9\",\"display\":\"Current Diseases\"}]}},{\"code\":{\"coding\":[{\"system\":\"http:\\/\\/loinc.org\",\"code\":\"55110-1\",\"display\":\"Diagnostic Conclusion\"}]}},{\"code\":{\"coding\":[{\"system\":\"http:\\/\\/loinc.org\",\"code\":\"18776-5\",\"display\":\"Treatment Plan\"}]}},{\"code\":{\"coding\":[{\"system\":\"http:\\/\\/loinc.org\",\"code\":\"29545-1\",\"display\":\"Instrument Examination\"}]}},{\"code\":{\"coding\":[{\"system\":\"http:\\/\\/loinc.org\",\"code\":\"48765-2\",\"display\":\"Allergies and adverse reactions Document\"}]}}]}},{\"resource\":{\"resourceType\":\"Encounter\",\"id\":\"e6abc1a7-8848-4cff-a7b2-969cb9580eb6\",\"meta\":{\"profile\":[\"http:\\/\\/interopehrate.eu\\/fhir\\/StructureDefinition\\/Composition-VisitReport-IEHR\"]},\"status\":\"finished\",\"class\":{\"system\":\"http:\\/\\/terminology.hl7.org\\/CodeSystem\\/v3-ActCode\",\"code\":\"AMB\",\"display\":\"ambulatory\"},\"period\":{\"start\":\"2022-05-19T13:42:19+03:00\"}}},{\"resource\":{\"resourceType\":\"Observation\",\"id\":\"2f047e09-c9ea-4f2a-9a63-6a09187c9050\",\"code\":{\"coding\":[{\"system\":\"http:\\/\\/loinc.org\",\"code\":\"8302-2\",\"display\":\"Body height\"}]},\"subject\":{\"reference\":\"Patient\\/3ca97c72-a189-4ab9-bd75-41611b4986ed\"},\"effectiveDateTime\":\"2022-05-19T13:41:19+03:00\",\"valueQuantity\":{\"value\":175,\"unit\":\"cm\",\"system\":\"http:\\/\\/unitsofmeasure.org\",\"code\":\"cm\"}}},{\"resource\":{\"resourceType\":\"MedicationStatement\",\"id\":\"330a6010-4ec1-42a7-8b3e-83180e4479eb\",\"status\":\"active\",\"medicationReference\":{\"reference\":\"Medication\\/f0153759-df6d-4bcf-9442-392dd41cafc4\"},\"dosage\":[{\"additionalInstruction\":[{\"text\":\"notes\"}],\"timing\":{\"repeat\":{\"boundsPeriod\":{\"start\":\"2022-05-19T00:00:00+03:00\"},\"frequency\":2,\"period\":1,\"periodUnit\":\"d\"}},\"doseAndRate\":[{\"doseQuantity\":{\"value\":1}}]}]}},{\"resource\":{\"resourceType\":\"Medication\",\"id\":\"f0153759-df6d-4bcf-9442-392dd41cafc4\",\"code\":{\"coding\":[{\"system\":\"http:\\/\\/www.whocc.no\\/atc\",\"code\":\"H03AA\",\"display\":\"Synthroid\"}]}}},{\"resource\":{\"resourceType\":\"Provenance\",\"id\":\"dc5ec033-853a-4f76-acd2-4788310f1d30\",\"meta\":{\"profile\":[\"http:\\/\\/interopehrate.eu\\/fhir\\/StructureDefinition\\/Provenance-IEHR\"]},\"target\":[{\"reference\":\"Composition\\/dd74192e-2e0d-4825-ae1a-3ce4de72a147\"}],\"recorded\":\"2022-05-19T13:42:20.049+03:00\",\"agent\":[{\"type\":{\"coding\":[{\"system\":\"http:\\/\\/terminology.hl7.org\\/CodeSystem\\/provenance-participant-type\",\"code\":\"author\",\"display\":\"Author\"}]},\"who\":{\"reference\":\"Practitioner\\/a04b207d-b2d9-4b18-83a9-5d4a925c37f3\"}},{\"type\":{\"coding\":[{\"system\":\"http:\\/\\/terminology.hl7.org\\/CodeSystem\\/provenance-participant-type\",\"code\":\"custodian\",\"display\":\"Custodian\"}]},\"who\":{\"reference\":\"Organization\\/235a3827-56f9-4df8-8e27-d8a939e1b42e\"}}],\"signature\":[{\"id\":\"87d45136-5e27-411f-a0a8-a03b42348030\",\"type\":[{\"system\":\"urn:iso-astm:E1762-95:2013\",\"code\":\"1.2.840.10065.1.12.1.5\",\"display\":\"Verification Signature\"}],\"when\":\"2022-05-19T13:42:20.049+03:00\",\"who\":{\"reference\":\"Organization\\/235a3827-56f9-4df8-8e27-d8a939e1b42e\"},\"targetFormat\":\"json\",\"sigFormat\":\"application\\/jose\",\"data\":\"ZXlKaGJHY2lPaUpTVXpJMU5pSXNJbU5sY25ScFptbGpZWFJsSWpvaVZGVnNTbEpyVGpaUk1FNUNUVEE1YmxGWVpFcFJhMFp1VTFaV1ZXRXpRazVhUjJSYVkwUm9WRTR4VmxoWmFtZDNWVVp3YzJKV2IzaFVSRXBWWlcxa00xSkdSbHBUYTNSMlYydHNiMlJ0VGs5UlZrWkdWRUZ3UTFWVlJqTlhWbEpHWVdzeFJGSlZaRVJhTWpGVVUyMDVkRlpFYUhCbFIzUkNWVlZXVGxKVVNrNWtSVEZJVkZST1QxWkdXbTlVTUZKeVRUQXhSV0ZIYkU1TmJGWTBWMWh3U21WRldsVlJWbEpEV2pBMVYwTnJTa0pVVlRGRlVsUkdiMWx0TVVkaWJIQllUVmQ0YVdKc1NrVlZWbEpHWVdzeFJGSlZaRUpOVmxaR1VUSmtNMWxXU2xaalJVNVNUVVZXYmxWVVNUVmtWMUpJVW01Q2FXSldXalZUVlZwSFRWZEdXRlJ1U1V0WmVrNVRZVWRPZFZWWVpFbGhSMDVQVkZkd1NtUXdNWEZUVkVaT1ZrVnNOVlJXVWxKbFJtUnZXVEExVG1Gc1JqTlVWM0JLVFZVeFZWTlliRTVXUmtZMFZqSndRbHBGTVZOak0yUklWVlpzUlZac1JsSlNRWEJGVVd0d2RsZHNaRWRqTWxKSVlVaGFhbUpYVW05WmJURnpUbXhzV1ZWdVFtbE5hbEl6V2pKa1NtRlZNVUpOUldSRVZUTkdTRlV3YkdsTk1GSlNVbFZLUWxWV1ZrSlJWRkpLVVRCU00xRllaRzVhTUd4TVEydEdkbE5WVGtKVlZWSmFUSHBrV0dFeFFqUlZSMk15VDFkc2VtUnFTa2xaYlZaQ1ZFZE9WbEZzV2xKUFIwa3dVa2hrYTA0d1drOVZNbVJxWkZVNGVsSXlVbkJVYlhCclREQldNbFY2YTNwTGVteHJVMWRuUzB0NWRHOWlSazQwVFZSR1VGbHRlRVpPUkdodFl6TkdTbUV6YUZWV1YwWnlaVVpLYzJNelNrbFNWa0o1VlhwR2EyVlVhRVpaV0ZFd1pFUkdkRkl6U201WFZuQnFUMVp3YjAxWWNFNWpSWFJ5VXpGR01tSjNiekZrTTJSSVRrYzBNMU50WkZaUFYwWnZVMVY0VG1KRWFIbGFWRVpQWW0xYVVWWnRiR3hWUlhCNVVrVndhMDlGUlhwUFIxRjJZa1pHYkdSWFVsWlRSM1J2V2xWT00xa3dhM2RhYm1oRFpGVlpOV1JyVmtaRGJrWlVWbFZOTUZwV1pFWlZSa3BTVGtWU1FsVXliRTFrVjFrMFRrZGFlbUZFVmtWbFJGcEZZVzVTVDJSRk1VVk1NakI0VWtkS2EySXpUa3hpU0ZJeFZqRktSMXBET1hsUFJtaFRZa1prUkZFemIzSmlia2xMVTFjMGRtTnRaRlpoUlRBeVlrVTFVbEV4YkdGaWJuQlBaRWQ0ZFdJelRraFVlbXhZWlZOMFYwOUdXbmxrV0ZwUlpHdHdkVkpzVW1GVFJGWjZUV3hzVkZSWVFUTmlNR2hOVEROb2JWWkVXbHBTUjFKTFkzZHdRbUo2U2xsVGJWWkRVbXQ0VTFVd2FFTmxSa1pDV210U1JFMXRTa05PVmtKRlpXcEZkMWxWVWxKaGJWcExZbnBDU1ZKVk9VVlBSRVpWVGpBeFRsbFhUVFJMZWtwNVltcEtlRkpGTlcxaWJYQXdUVE5hYWtOdGFFaFRWbVJIV2tac1VVOUZPVlJXYlhCcFlXNVNkbFpzWkRCaGFrcG9ZVEprYlZkcVNtMVNNVTVTWW5wV1ExWlZjSHBNTWxaMFV6TkdNazV1V25Sak1VSlNUak5hYlZsVVZuZFRhVGxSVVhwQk1sZEZjMHRVZW1oc1pFaGthR1ZZV2tkTU1IaDZaV3BPTTJFeGIzbGlSVGd6VlVkcmQxUkdWa1paYTFaM1pGaGtSbFpzY0RCbGJXZDNXa1ZhVG1GSE5WWlRSRUpLWlZjMWFGUkdVakJoTWxwcFZGWmtTbGxWYkZwWlVYQndXbFZPV0ZNeldtcFBWVGw1WTFSU2MxZEZSVE5OTWtaclRrWlNVbVJIT1RaTlZuQTBXbE56ZWxGck1XeGhiWE16WTFSYVZVNVRkR3hrYTBvMFdrVjBXRlJXVVRWV1ZVb3lVbnBrWVU5RVZreGxhbVJGUTI1YWNHUkhNV2hqVmswMFZrZEdURkpJU21oVlNHeHRUVVJLUmxGVVJsVmxWelYzVTJ0ak0yUXlVa1ZTUm04MVRrVk9OVTFHY0ZSTmFsbDZZMGQ0YzFKNmFHcFdiRkpPWkVoa1VGRldaRWhVVTNSNVZsVmpTMlJWVmxsVmJWcHpVM3BvUkdSck1IcFdSM1ExV201b1FsUklaRmxhVm5CTFdWTnplVlZVUW5wTE1VRjJaVzFXVDA0eFFteGtWVVpGWXpGYVZGUlVWbmhYV0dSS1VrVkdVbEZWU25aTmVtZ3pXbXhTUWxSUmNFTmFNRFZYVTBaS1RsRnJSbTFQUlZaQ1lXdEdRbFJWU1RSU01FVjRWbGRTU21ReFJscFVWVXBvVVZWYVFtTllhRmRTTUhodFQwVkdSMkl5VFhoUFJFNUdXbnBKTVZOSWJIQmtNbU0xVWtoU1RsRnFRa2hEYTBWNFZsZFNTMVZXUmxoVVZVcFNVakJPUkdNd1pFSlZWbFpIVVc1a1RsRXdTbTVhTTBwRFdqQldSMUZzUm1wU1JVcEZVVmRTUTFvd05WZFRSa1V3VWxWYWJsVldWWGxWVnpGWVlsZGtRbGt6WkRaa1IzTkxWRWhvVWs1R1dUSlplbFpaWVhwc2RGWkdaRTVrTUZKdVYxVlNWMVZxUWxGUlZrWkpUREJLUWxWVlVrSmFNV2h1VkZWRmQxSXdUbFJqVldSVVUxZEplbEpHUmtaUmEwNHpWbFZHUWs1RmJFTmFNVVpFWVhkdk1WRlVVazlYVkdodFRUSldOVlV4YkZSUlYwcFFWRmMxWVU5RWJEVlBSVFZHVXpKMGRHRXpWa0pSTUVsM1ZteGFNRTV1V2tsaWJYaFZVak5hYWxOSWJFSlBSbkJXVTFSU05WZEZhRFZaVms1clQxVldlRU5zUlhoaVYxRjZWa1ZXUmxvd1RqUmlWM0JxVERGcmRtRXlZM3BYVnpGeFVqTlNWRk5ZVmpOYU1XaHFWVlpzUWxrd1pGSmlRM1IyVlZjeFRGWnRiM2xhYTBWNFRrUmtObE5YVGxsaVYzQlVXbFZzVEZwSFVVdGtNSGg2VTBSQk1tUlVXazFXTUhkeVpHeFdhRTR4VmxaaVZrWkVZMnhhZFU5RVVubE5lazAwVlhsME5HSnNhM2hOTUUweVlqQldWMk15Vm5aWFdFSndZMVJPV2xZd05XNVdWbXgwVGtjeGVWZFdVbEJsUVhCNFlrWndhRlZyY3pGaFZrVXhaVlpTYmxOV1FuTmFhMUYyVXpGUmVsbFlSbkJsYTNOM1dWWnNiMVpVWkZWTGVscE9ZbXBhZFU1Vk1XOVpWbHBhWkZWR1Nrc3pWWEpXV0doU1ZUQTFTMDVzVmxSa2JuQlpRMnhrYTFKWVpHbE5NbWhxWWpKWk1FNVdaRk5XV0hBMVYyNUNiR1ZxVWt0a1ZFSkhUMGR3U21Sc2FIVlZWM042VldwUk5WTnRlRmhWVkZaMFZVYzFWV0pVU21oUlZHUkhUVE5HYmxGdVZuRmFSMVpxWW5wVlMxVXlVVEpoYkZwclducFNUbGxWV25CbFYyczFVbTVzV2xac2EzZGtNbFl3WTBaV2VXVnRSbFJsUkdjd1dsVm9VbFJxVmxGVE1EVjBZVlpGZWxsc2J6UmlWemd4WVd0c2NHSnRPVzVUTURWelkxZGtORk5uY0c5WmVrWkdVMFpSY2xReGFITlNia1pHVmtab2MyRXdaRmxPYWtwd1pVWmtkVk5GZUZoVmExWmFWVmRTY2xOR1dUUlpNRTV4WXpKME5GcFhVbWhrUmtKVlkyeFdNbGRWY0c1Vk1EbElXa2RHUjFWcmRGSkRia0pWVGtOemNrNVhNVFZrTUZrMVYwWkZlR0pYVm1oaVZUUjVVbGhhY1ZWWGRHOWlWMXBxVTJ4Wk5GUlZiRkJqU0c5NVlqSlNVR1ZGUlhkWmJrSjZWak5PUW1ScVJuTlhibVJUWkRKS1VtSlVaRXBpZWpBOUluMD0uLllXZGFSR1JyVG1OdmJFcFFZalpNWjNOR2MzZ3ZjQzlIT1RoS1JHNWlZbHB0WjFSQkwweHBURFZpWlVoSWIwc3JVQzh2U25kTVpGSlpWSE5XZWpKQ1VFTlVXbG92YTI5SlpVRkhOamhTUms0d1EwVklUbXBUU2tGV1ZVTmhSelZsTVd3MlprNUlUMnBrV21OcmIwRklSVUpFVVRoS1MzcFNWVEpXUTBKaE9UaHVMelUxSzJrNVVFSlBkRXAyU2xRM2NqSk1aWEp1V0VSM1NYaEtaVTFHVTIxcFRYZHNOMDR5T0d0R05VTnhSMU5UY0Rrdk5UQlRVbkpXV2tKVVJXSXdjVEZZTjNOelVUWTNTa1ZoVldwSlRIaEJSMnhuZG1GUVZtNTFaRlpRZEhKb1JsSlpNWGxrUVVOV1dDOXdaMnBvZEVjeVFURlhOV1p5Um1aQ2JtSkRhbmhVUVZsQlExQlNRMncwZUVnNFJVOVNaeXRYUTBRNFpFTjRjMFJNY0V0RVltRnNNMEpHTWxWS2FFRnFiV0pxTDJ0RWVWZFhXVXBrYzJOWE0waERibXhMYXpGNFNWQmlVSEpYZW5GeVR6aHBWWFp2YzFCUVdqRk5OSFpSV0VoSGVWUlhVRnBFVVVGTE5IVTBlR3N3ZFRSRmVtaElXR3AzVlRCblZTOHlZMFpVZWtrMkwxUTVObGRQWkVaT0wybHVXR1J5ZUZabVdYUlhXVlV5UjNwNlJsTkRSR1ZFY2tzMU1tNDNNa2xrTm5adlRrdzNWMUpaYVhkakszTnFTRE5JYVN0bWVWUnhVRFJvYVZaclZFdFpkalJwVnpCVmExWlVOR1EwV25aaWVWZFpPR2RNUTNSek9YcFdVVzVPUW1KNkt6SmtaWFUzTDNsM00zcHlXR3RFVEhjdllYZGpNRnBTV1hOTmN6RnJUelZrVkVoRk9XZHJUM2t3VEUwNFQweFhNalkxZEdsUGFtOXNTMk5MVlc4M2IweE1aME5tVFZOV1ZGTnRUWEYzWVRKQ2NFTmpTbkZTTkVsdU5VMHJOM1ZMVVZZd2VtOTZTa3RCVGxOMFpGbEZaMmR6YWk5YVluaHBMMXBtWm1NdlMySnFWMmh4Y1RCUmQzQjVjMlY2Vm5odlpEQjJMMjlGZEhoNE4wSkNXRTVLVEdodWFHRnFZMlJxVUZCRGVuaERUV1YwVlRCYVIwNXdVa2R0YVc4OQ==\"}]}}]}";
////        String bndle = "{\"resourceType\":\"Bundle\",\"entry\":[{\"resource\":{\"resourceType\":\"Practitioner\",\"id\":\"1bd1811d-3771-4507-9314-ade9c5bd47db\",\"name\":[{\"family\":\"Giuseppe Vergaro\"}]}},{\"resource\":{\"resourceType\":\"Organization\",\"id\":\"7cdfe0ba-041a-4674-baab-27d03edb6388\"}},{\"resource\":{\"resourceType\":\"Composition\",\"id\":\"b130eed9-97cb-4804-949c-1b1901b2f74b\",\"meta\":{\"profile\":[\"http:\\/\\/interopehrate.eu\\/fhir\\/StructureDefinition\\/Composition-VisitReport-IEHR\"]},\"extension\":[{\"url\":\"http:\\/\\/interopehrate.eu\\/fhir\\/StructureDefinition\\/ProvenanceExtension-IEHR\",\"valueReference\":{\"reference\":\"Provenance\\/b57a187e-6d8f-4fbd-85a2-b59622e70fe1\"}}],\"status\":\"final\",\"type\":{\"coding\":[{\"system\":\"http:\\/\\/loinc.org\",\"code\":\"81214-9\"}]},\"encounter\":{\"reference\":\"Encounter\\/95763e9c-07f4-429e-8b0a-b8489682014a\"},\"date\":\"2022-05-19T13:58:36+03:00\",\"title\":\"Medical Visit\",\"section\":[{\"code\":{\"coding\":[{\"system\":\"http:\\/\\/loinc.org\",\"code\":\"8716-3\",\"display\":\"Vital signs\"}]}},{\"code\":{\"coding\":[{\"system\":\"http:\\/\\/loinc.org\",\"code\":\"10183-2\",\"display\":\"Hospital discharge medications\"}]},\"entry\":[{\"reference\":\"MedicationStatement\\/d14f412a-0c26-43db-96f4-4eb15861d975\"}]},{\"code\":{\"coding\":[{\"system\":\"http:\\/\\/loinc.org\",\"code\":\"75326-9\",\"display\":\"Current Diseases\"}]}},{\"code\":{\"coding\":[{\"system\":\"http:\\/\\/loinc.org\",\"code\":\"55110-1\",\"display\":\"Diagnostic Conclusion\"}]}},{\"code\":{\"coding\":[{\"system\":\"http:\\/\\/loinc.org\",\"code\":\"18776-5\",\"display\":\"Treatment Plan\"}]}},{\"code\":{\"coding\":[{\"system\":\"http:\\/\\/loinc.org\",\"code\":\"29545-1\",\"display\":\"Instrument Examination\"}]}},{\"code\":{\"coding\":[{\"system\":\"http:\\/\\/loinc.org\",\"code\":\"48765-2\",\"display\":\"Allergies and adverse reactions Document\"}]}}]}},{\"resource\":{\"resourceType\":\"Encounter\",\"id\":\"95763e9c-07f4-429e-8b0a-b8489682014a\",\"meta\":{\"profile\":[\"http:\\/\\/interopehrate.eu\\/fhir\\/StructureDefinition\\/Composition-VisitReport-IEHR\"]},\"status\":\"finished\",\"class\":{\"system\":\"http:\\/\\/terminology.hl7.org\\/CodeSystem\\/v3-ActCode\",\"code\":\"AMB\",\"display\":\"ambulatory\"},\"period\":{\"start\":\"2022-05-19T13:58:36+03:00\"}}},{\"resource\":{\"resourceType\":\"MedicationStatement\",\"id\":\"d14f412a-0c26-43db-96f4-4eb15861d975\",\"status\":\"active\",\"medicationReference\":{\"reference\":\"Medication\\/3223d2a7-b794-4f4e-ae27-32c1369bccb6\"},\"dosage\":[{\"additionalInstruction\":[{\"text\":\"notes\"}],\"timing\":{\"repeat\":{\"boundsPeriod\":{\"start\":\"2022-05-19T00:00:00+03:00\"},\"frequency\":2,\"period\":1,\"periodUnit\":\"d\"}},\"doseAndRate\":[{\"doseQuantity\":{\"value\":1}}]}]}},{\"resource\":{\"resourceType\":\"Medication\",\"id\":\"3223d2a7-b794-4f4e-ae27-32c1369bccb6\",\"code\":{\"coding\":[{\"system\":\"http:\\/\\/www.whocc.no\\/atc\",\"code\":\"N03AX\",\"display\":\"Neurontin\"}]}}},{\"resource\":{\"resourceType\":\"Provenance\",\"id\":\"b57a187e-6d8f-4fbd-85a2-b59622e70fe1\",\"meta\":{\"profile\":[\"http:\\/\\/interopehrate.eu\\/fhir\\/StructureDefinition\\/Provenance-IEHR\"]},\"target\":[{\"reference\":\"Composition\\/b130eed9-97cb-4804-949c-1b1901b2f74b\"}],\"recorded\":\"2022-05-19T13:58:36.279+03:00\",\"agent\":[{\"type\":{\"coding\":[{\"system\":\"http:\\/\\/terminology.hl7.org\\/CodeSystem\\/provenance-participant-type\",\"code\":\"author\",\"display\":\"Author\"}]},\"who\":{\"reference\":\"Practitioner\\/1bd1811d-3771-4507-9314-ade9c5bd47db\"}},{\"type\":{\"coding\":[{\"system\":\"http:\\/\\/terminology.hl7.org\\/CodeSystem\\/provenance-participant-type\",\"code\":\"custodian\",\"display\":\"Custodian\"}]},\"who\":{\"reference\":\"Organization\\/7cdfe0ba-041a-4674-baab-27d03edb6388\"}}],\"signature\":[{\"id\":\"dbd5198b-ac7b-458c-a52f-b871e8074e85\",\"type\":[{\"system\":\"urn:iso-astm:E1762-95:2013\",\"code\":\"1.2.840.10065.1.12.1.5\",\"display\":\"Verification Signature\"}],\"when\":\"2022-05-19T13:58:36.279+03:00\",\"who\":{\"reference\":\"Organization\\/7cdfe0ba-041a-4674-baab-27d03edb6388\"},\"targetFormat\":\"json\",\"sigFormat\":\"application\\/jose\",\"data\":\"ZXlKaGJHY2lPaUpTVXpJMU5pSXNJbU5sY25ScFptbGpZWFJsSWpvaVZGVnNTbEpyVGpaUk1FNUNUVEE1YmxGWVpFcFJhMFp1VTFaV1ZXRXpRazVhUjJSYVkwUm9WRTR4VmxoWmFtZDNWVVp3YzJKV2IzaFVSRXBWWlcxa00xSkdSbHBUYTNSMlYydHNiMlJ0VGs5UlZrWkdWRUZ3UTFWVlJqTlhWbEpHWVdzeFJGSlZaRVJhTWpGVVUyMDVkRlpFYUhCbFIzUkNWVlZXVGxKVVNrNWtSVEZJVkZST1QxWkdXbTlVTUZKeVRUQXhSV0ZIYkU1TmJGWTBWMWh3U21WRldsVlJWbEpEV2pBMVYwTnJTa0pVVlRGRlVsUkdiMWx0TVVkaWJIQllUVmQ0YVdKc1NrVlZWbEpHWVdzeFJGSlZaRUpOVmxaR1VUSmtNMWxXU2xaalJVNVNUVVZXYmxWVVNUVmtWMUpJVW01Q2FXSldXalZUVlZwSFRWZEdXRlJ1U1V0WmVrNVRZVWRPZFZWWVpFbGhSMDVQVkZkd1NtUXdNWEZUVkVaT1ZrVnNOVlJXVWxKbFJtUnZXVEExVG1Gc1JqTlVWM0JLVFZVeFZWTlliRTVXUmtZMFZqSndRbHBGTVZOak0yUklWVlpzUlZac1JsSlNRWEJGVVd0d2RsZHNaRWRqTWxKSVlVaGFhbUpYVW05WmJURnpUbXhzV1ZWdVFtbE5hbEl6V2pKa1NtRlZNVUpOUldSRVZUTkdTRlV3YkdsTk1GSlNVbFZLUWxWV1ZrSlJWRkpLVVRCU00xRllaRzVhTUd4TVEydEdkbE5WVGtKVlZWSmFUSHBrV0dFeFFqUlZSMk15VDFkc2VtUnFTa2xaYlZaQ1ZFZE9WbEZzV2xKUFIwa3dVa2hrYTA0d1drOVZNbVJxWkZVNGVsSXlVbkJVYlhCclREQldNbFY2YTNwTGVteHJVMWRuUzB0NWRHOWlSazQwVFZSR1VGbHRlRVpPUkdodFl6TkdTbUV6YUZWV1YwWnlaVVpLYzJNelNrbFNWa0o1VlhwR2EyVlVhRVpaV0ZFd1pFUkdkRkl6U201WFZuQnFUMVp3YjAxWWNFNWpSWFJ5VXpGR01tSjNiekZrTTJSSVRrYzBNMU50WkZaUFYwWnZVMVY0VG1KRWFIbGFWRVpQWW0xYVVWWnRiR3hWUlhCNVVrVndhMDlGUlhwUFIxRjJZa1pHYkdSWFVsWlRSM1J2V2xWT00xa3dhM2RhYm1oRFpGVlpOV1JyVmtaRGJrWlVWbFZOTUZwV1pFWlZSa3BTVGtWU1FsVXliRTFrVjFrMFRrZGFlbUZFVmtWbFJGcEZZVzVTVDJSRk1VVk1NakI0VWtkS2EySXpUa3hpU0ZJeFZqRktSMXBET1hsUFJtaFRZa1prUkZFemIzSmlia2xMVTFjMGRtTnRaRlpoUlRBeVlrVTFVbEV4YkdGaWJuQlBaRWQ0ZFdJelRraFVlbXhZWlZOMFYwOUdXbmxrV0ZwUlpHdHdkVkpzVW1GVFJGWjZUV3hzVkZSWVFUTmlNR2hOVEROb2JWWkVXbHBTUjFKTFkzZHdRbUo2U2xsVGJWWkRVbXQ0VTFVd2FFTmxSa1pDV210U1JFMXRTa05PVmtKRlpXcEZkMWxWVWxKaGJWcExZbnBDU1ZKVk9VVlBSRVpWVGpBeFRsbFhUVFJMZWtwNVltcEtlRkpGTlcxaWJYQXdUVE5hYWtOdGFFaFRWbVJIV2tac1VVOUZPVlJXYlhCcFlXNVNkbFpzWkRCaGFrcG9ZVEprYlZkcVNtMVNNVTVTWW5wV1ExWlZjSHBNTWxaMFV6TkdNazV1V25Sak1VSlNUak5hYlZsVVZuZFRhVGxSVVhwQk1sZEZjMHRVZW1oc1pFaGthR1ZZV2tkTU1IaDZaV3BPTTJFeGIzbGlSVGd6VlVkcmQxUkdWa1paYTFaM1pGaGtSbFpzY0RCbGJXZDNXa1ZhVG1GSE5WWlRSRUpLWlZjMWFGUkdVakJoTWxwcFZGWmtTbGxWYkZwWlVYQndXbFZPV0ZNeldtcFBWVGw1WTFSU2MxZEZSVE5OTWtaclRrWlNVbVJIT1RaTlZuQTBXbE56ZWxGck1XeGhiWE16WTFSYVZVNVRkR3hrYTBvMFdrVjBXRlJXVVRWV1ZVb3lVbnBrWVU5RVZreGxhbVJGUTI1YWNHUkhNV2hqVmswMFZrZEdURkpJU21oVlNHeHRUVVJLUmxGVVJsVmxWelYzVTJ0ak0yUXlVa1ZTUm04MVRrVk9OVTFHY0ZSTmFsbDZZMGQ0YzFKNmFHcFdiRkpPWkVoa1VGRldaRWhVVTNSNVZsVmpTMlJWVmxsVmJWcHpVM3BvUkdSck1IcFdSM1ExV201b1FsUklaRmxhVm5CTFdWTnplVlZVUW5wTE1VRjJaVzFXVDA0eFFteGtWVVpGWXpGYVZGUlVWbmhYV0dSS1VrVkdVbEZWU25aTmVtZ3pXbXhTUWxSUmNFTmFNRFZYVTBaS1RsRnJSbTFQUlZaQ1lXdEdRbFJWU1RSU01FVjRWbGRTU21ReFJscFVWVXBvVVZWYVFtTllhRmRTTUhodFQwVkdSMkl5VFhoUFJFNUdXbnBKTVZOSWJIQmtNbU0xVWtoU1RsRnFRa2hEYTBWNFZsZFNTMVZXUmxoVVZVcFNVakJPUkdNd1pFSlZWbFpIVVc1a1RsRXdTbTVhTTBwRFdqQldSMUZzUm1wU1JVcEZVVmRTUTFvd05WZFRSa1V3VWxWYWJsVldWWGxWVnpGWVlsZGtRbGt6WkRaa1IzTkxWRWhvVWs1R1dUSlplbFpaWVhwc2RGWkdaRTVrTUZKdVYxVlNWMVZxUWxGUlZrWkpUREJLUWxWVlVrSmFNV2h1VkZWRmQxSXdUbFJqVldSVVUxZEplbEpHUmtaUmEwNHpWbFZHUWs1RmJFTmFNVVpFWVhkdk1WRlVVazlYVkdodFRUSldOVlV4YkZSUlYwcFFWRmMxWVU5RWJEVlBSVFZHVXpKMGRHRXpWa0pSTUVsM1ZteGFNRTV1V2tsaWJYaFZVak5hYWxOSWJFSlBSbkJXVTFSU05WZEZhRFZaVms1clQxVldlRU5zUlhoaVYxRjZWa1ZXUmxvd1RqUmlWM0JxVERGcmRtRXlZM3BYVnpGeFVqTlNWRk5ZVmpOYU1XaHFWVlpzUWxrd1pGSmlRM1IyVlZjeFRGWnRiM2xhYTBWNFRrUmtObE5YVGxsaVYzQlVXbFZzVEZwSFVVdGtNSGg2VTBSQk1tUlVXazFXTUhkeVpHeFdhRTR4VmxaaVZrWkVZMnhhZFU5RVVubE5lazAwVlhsME5HSnNhM2hOTUUweVlqQldWMk15Vm5aWFdFSndZMVJPV2xZd05XNVdWbXgwVGtjeGVWZFdVbEJsUVhCNFlrWndhRlZyY3pGaFZrVXhaVlpTYmxOV1FuTmFhMUYyVXpGUmVsbFlSbkJsYTNOM1dWWnNiMVpVWkZWTGVscE9ZbXBhZFU1Vk1XOVpWbHBhWkZWR1Nrc3pWWEpXV0doU1ZUQTFTMDVzVmxSa2JuQlpRMnhrYTFKWVpHbE5NbWhxWWpKWk1FNVdaRk5XV0hBMVYyNUNiR1ZxVWt0a1ZFSkhUMGR3U21Sc2FIVlZWM042VldwUk5WTnRlRmhWVkZaMFZVYzFWV0pVU21oUlZHUkhUVE5HYmxGdVZuRmFSMVpxWW5wVlMxVXlVVEpoYkZwclducFNUbGxWV25CbFYyczFVbTVzV2xac2EzZGtNbFl3WTBaV2VXVnRSbFJsUkdjd1dsVm9VbFJxVmxGVE1EVjBZVlpGZWxsc2J6UmlWemd4WVd0c2NHSnRPVzVUTURWelkxZGtORk5uY0c5WmVrWkdVMFpSY2xReGFITlNia1pHVmtab2MyRXdaRmxPYWtwd1pVWmtkVk5GZUZoVmExWmFWVmRTY2xOR1dUUlpNRTV4WXpKME5GcFhVbWhrUmtKVlkyeFdNbGRWY0c1Vk1EbElXa2RHUjFWcmRGSkRia0pWVGtOemNrNVhNVFZrTUZrMVYwWkZlR0pYVm1oaVZUUjVVbGhhY1ZWWGRHOWlWMXBxVTJ4Wk5GUlZiRkJqU0c5NVlqSlNVR1ZGUlhkWmJrSjZWak5PUW1ScVJuTlhibVJUWkRKS1VtSlVaRXBpZWpBOUluMD0uLmJTdGFTVEJGZUZoeVIwbEtkU3MyUW5ac1NGbEtlR1Z4TkdZdlp6Sk9iRzVGVlhSU1FVNU5TVVl3Vm5kTFRGTkJSbFpLZUZWUE5qZHdSbXRHU25kVU9YSnJMemhNWWtzM0sxZEJiRmN6WTB4emNHbE9lWEpPUWs1U1Z6QlJaMGxwYzB4TlQzWmtOSE5UTURNelpVd3paMDFKVnpOQ1dXSllaMWcyUW05eE16aGFXV3R6U3pOUldYUkJVVkZYWms1b1UybE5PSFpOVWtjd2RFUlhSRXg2T1RjNWFURmxkR1pHWjFrMFpHWjNWbkV6V2pFdk5VVlBPV0U1YkVKb2MzWmhjMlZWVWxaMlNFZGxhVVZTZURkRk5rWndSMUpXWldsU00zWndkM055WlZSdmFXeDJNamhLYm05NldFNUlOblJoUW5sRlNsQnpZbTFUVTFCek1ERmtNVlpNVUdacFZWZEZTbXRwTUVKa1pVOXFjbk5VVjFoVloyNXFWRkJUVTBaUlpGRnBhM3BRWVVWaVR6UlJOM1JTTm5SbFRVYzBiSEZDTDNSTFEwNTJNMDFrT0U1c05EWXlVR1IySzBscmR6VldVSEZGZFRVclZVZFZNRU4xVjJOaVlrdFNiemRyVW5aVVRraDNOM3BzZG5GSFVFNUllalY0WVZwdUwxZDJkbTlRZEZobVQyeEdXVmd3Tkc5a1FWaGFZamhEVkRkQmVVaEhNMDFsZW1wbVZHdzFSbmh4VTAxWlIyTmxLemx1ZWpSalRUUnBka1EyY0RKUmFERkhZM1JMTUVkamVsWm9NRmcwVUdvck5UWjRPSGR6YWpWRU5GRldWVzVXYkdaM01teHdUM0I1T0M5RmF6WktVazg0WmpOTE1sWjRjMk4wYlROUVlTOXRTbEJWUWpFMVUzbDJjRlpFZFRCSlptVm1XbUZ3V1RWRk1uVm1Rak5qU0U1MmRVSTRlRzFRTld0MFNWb3JVVkpGYlcxVlZuaHVkakY0ZW1OcFpHRTBaR3RTS3pGUk9UWlNhSGhLYms4MVZXTjFjbXMyUTBsM2FISndVMkZHWjJaRWVVVTFXbU15YlhseldqZHFXVFJwYlZKS1VXTTNhR2xwTlVOS2NUSnhWMlkyVnpnM2FXSjRXRzl3ZWt0M1ZqSm1TaXMyVlRaaGExQnBjRWs1YjB3MUwwTlBWWHB5Wm1sd1ZIZDBOMkZpTjAwOQ==\"}]}}]}";

//        System.out.println("Initiating Provenance checking:");
//        boolean pc = r2de.checkProvenance(bndle);
//        System.out.println("\n\n\nInitiating Compliance checking:");
//        boolean cc = r2de.checkCompliance(bndle);

////        Printing results
//        System.out.println("Provenance Checking: \t"+ pc);
//        System.out.println("Compliance Checking: \t"+ cc);
    }
}
